---
- scan_interval: 3600
  resource: https://api.wolframalpha.com/v2/query?appid=QLUEJ6QV3E&input=How+many+hours+until+the+first+day+of+next+month&format=plaintext&podtitle=Result&output=json
  method: GET
  sensor:
    - unique_id: rain_delay_month_counter
      name: Rain Delay Month Counter
      icon: mdi:calendar
      value_template: "{{ value_json.queryresult.pods[0].subpods[0].plaintext | replace(' hours', '') | int + 5 }}"
      unit_of_measurement: hours

- scan_interval: 3600
  resource: https://api.wolframalpha.com/v2/query?appid=QLUEJ6QV3E&input=Sun+next+maximum+altitude+jefferson+ga+in+decimal+degrees&format=plaintext&podtitle=Result&output=json
  method: GET
  sensor:
    - unique_id: max_solar_elevation
      name: Max Solar Elevation
      icon: mdi:angle-acute
      unit_of_measurement: °
      value_template: "{{ value_json.queryresult.pods[0].subpods[0].plaintext | replace('° (degrees)', '') | float}}"

- scan_interval: 600
  resource: http://api.weatherapi.com/v1/current.json?key=7528cc921ce345f8823181847232604&q=30549&aqi=no
  method: GET
  sensor:
    - unique_id: home_cloud_cover
      name: Cloud Cover
      icon: mdi:cloud
      value_template: "{{ value_json.current.cloud }}"
      json_attributes:
        - current
      unit_of_measurement: "%"
  binary_sensor:
    - unique_id: is_snow
      name: Is Snow
      icon: mdi:weather-snowy
      device_class: moisture
      value_template: >
        {% if "snow" in value_json.current.condition.text | string or "Blizzard" in value_json.current.condition.text | string %}
          on
        {% else %}
          off
        {% endif %}

- scan_interval: 900
  resource: https://waterservices.usgs.gov/nwis/iv/?format=json&sites=02334400&parameterCd=00062&siteType=LK&siteStatus=all
  method: GET
  sensor:
    - unique_id: lanier_level
      name: Lake Lanier Level
      icon: mdi:waves
      value_template: '{{ value_json["value"]["timeSeries"][0]["values"][0]["value"][0]["value"] | float}}'
      device_class: distance
      unit_of_measurement: "ft"

- scan_interval: 86400
  resource: https://zenquotes.io/api/random
  method: POST
  sensor:
    - unique_id: quote
      name: quote
      icon: mdi:chat
      value_template: '{{ value_json[0].q}}'
    - unique_id: quote_author
      name: quote_author
      icon: mdi:chat
      value_template: '{{ value_json[0].a}}'

- scan_interval: 86400
  resource_template: >
    {%- set finish = today_at(now().hour ~ ':00') %}
    {%- set start = finish + timedelta(days=-7) %}
    {%- set format = "%m/%d/%Y" %}
    https://usdmdataservices.unl.edu/api/CountyStatistics/GetDSCI?aoi=13157&startdate={{start.strftime(format)}}&enddate={{finish.strftime(format)}}&statisticsType=2
  method: GET
  headers:
    Accept: >
      application/json
  sensor:
    - unique_id: dsci
      name: Jackson County, GA DSCI
      icon: mdi:cloud-cancel-outline
      value_template: >
        {%- set lst = value_json|last %}
        {{ lst.dsci}}
