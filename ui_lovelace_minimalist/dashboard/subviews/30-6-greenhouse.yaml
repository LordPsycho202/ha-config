---
title: "Greenhouse"
theme: "minimalist-mobile-tapbar"
icon: mdi:carrot
subview: true
path: plant_greenhouse
back_path: /ui-lovelace-minimalist/garden
cards:
  - type: vertical-stack
    cards:
      - type: custom:mushroom-template-card
        entity: plant.greenhouse_plants
        layout: vertical
        tap_action:
          action: more-info
        primary: Greenhouse
        secondary: |-
          {% if states('plant.greenhouse_plants') == 'ok' %}
          We Good!
          {% else %}
          {{ state_attr('plant.greenhouse_plants','problem')|capitalize }}
          {% endif %}
        icon: |-
          {% if 'moisture low' in state_attr('plant.greenhouse_plants','problem') %}
          mdi:watering-can-outline
          {% elif 'moisture high' in state_attr('plant.greenhouse_plants','problem') %}
          mdi:water-alert
          {% elif 'temperature low' in state_attr('plant.greenhouse_plants','problem') %}
          mdi:snowflake-thermometer
          {% elif 'temperature high' in state_attr('plant.greenhouse_plants','problem') %}
          mdi:sun-thermometer-outline
          {% elif 'temperature unavailable' in state_attr('plant.greenhouse_plants','problem') %}
          mdi:thermometer-off
          {% else %}
          mdi:carrot
          {% endif %}
        icon_color: |-
          {% if 'moisture low' in state_attr('plant.greenhouse_plants','problem') %}
          brown
          {% elif 'moisture high' in state_attr('plant.greenhouse_plants','problem') %}
          blue
          {% elif 'temperature low' in state_attr('plant.greenhouse_plants','problem') %}
          cyan
          {% elif 'temperature high' in state_attr('plant.greenhouse_plants','problem') %}
          red
          {% elif 'temperature unavailable' in state_attr('plant.greenhouse_plants','problem') %}
          yellow
          {% else %}
          green
          {% endif %}
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: card_graph
            entity: sensor.soil_moisture_4
            variables:
              ulm_card_graph_color: "var(--google-green)"
              ulm_card_graph_name: Soil Moisture
              ulm_card_graph_entity: sensor.soil_moisture_4
              ulm_card_graph_type: fill
              ulm_card_graph_hours: 24
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: card_graph
            entity: sensor.outdoor_temp
            variables:
              ulm_card_graph_color: "var(--google-green)"
              ulm_card_graph_name: Temperature
              ulm_card_graph_entity: sensor.outdoor_temp
              ulm_card_graph_type: fill
              ulm_card_graph_hours: 24
      - type: 'custom:button-card'
        template: card_battery
        entity: sensor.soil_moisture_4_batt
        variables:
          ulm_card_battery_battery_level_danger: 30
          ulm_card_battery_battery_level_warning: 80
          ulm_card_battery_name: Battery
