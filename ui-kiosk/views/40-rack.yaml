theme: Backend-selected
title: Rack
path: rack
icon: mdi:server
type: custom:grid-layout
layout:
  grid-template-columns: 8% 23% minmax(auto,45%) 18%
  grid-template-rows: 10% minmax(auto,80%) 10%
  grid-template-areas: |
    "time weather greeting greeting"
    "sidebar sidebar2 main aux"
    "footer footer footer footer"
  mediaquery:
    '(max-width: 800px)':
      grid-template-columns: 100%
      grid-template-rows: auto
      grid-template-areas: |
        "weather"
        "greeting"
        "main"
        "aux"
        "sidebar2"
        "footer"
visible:
  - user: 829c75b162794808a699871056da2b93
badges: []
cards:
  - type: custom:stack-in-card
    keep:
      background: true
    card_mod:
      style: |
        ha-card.type-custom-stack-in-card {
          border-radius: 0;
          border: 0;
        }
    cards:
      - type: custom:button-card
        name: |
          [[[ 
            var date = new Date().getDate();
            var year = new Date().getYear();
            var year = year - 100;
            var numMonth = new Date().getMonth();
            var month;
            switch(numMonth) {
              case 0:
                month = 'Jan';
                break;
              case 1:
                month = 'Feb';
                break;
              case 2:
                month = 'Mar';
                break;
              case 3:
                month = 'Apr';
                break;
              case 4:
                month = 'May';
                break;
              case 5:
                month = 'Jun';
                break;
              case 6:
                month = 'Jul';
                break;
              case 7:
                month = 'Aug';
                break;
              case 8:
                month = 'Sep';
                break;
              case 9:
                month = 'Oct';
                break;
              case 10:
                month = 'Nov';
                break;
              case 11:
                month = 'Dec';
                break;
            }

            var time = new Date().toLocaleTimeString('en-US',{ hour12: false, hour: "2-digit", minute: "2-digit"});

            return `Stardate: ${states['sensor.stardate'].state} &#149; ${date} ${month} ${year} &#149; ${time}`
          ]]]
        layout: vertical
        style: |
          ha-card {
            display: flex;
            position: relative;
            margin: 0;
            overflow: visible;
            border-radius: 0;
            height: 80px;
            width: 6rem;
            min-width: 6rem;
            min-height: 80px;
            background-color: #111;
          }
          ha-card div.ellipsis {
            position: absolute;
            left: 10px;
            background-color: #111;
            color: #FFF;
            height: 80px;
            overflow: visible;
            padding: 5px;
            font-size: 1.5rem;
            font-family: Antonio;
            line-height: 80px;
            text-transform: uppercase;
            vertical-align: middle;
            color: #FFF;
          }
          ha-card.button-card-main {
            padding: 0 0 !important;
          }
      - type: custom:button-card
        name: |
          [[[ 
            var condition = states['weather.kwdr_daynight'].state;
            var output;
            switch(condition) {
              case 'sunny':
                output = 'Sunny';
                break;
              case 'clear':
                output = 'Clear';
                break;
              case 'mostly-sunny':
                output = 'Mostly Sunny';
                break;
              case 'partly-cloudy':
                output = 'Partly Cloudy';
                break;
              case 'cloudy':
                output = 'Cloudy';
                break;
              case 'light-rain':
                output = 'Light Rain';
                break;
              case 'wind':
                output = 'Windy';
                break;
              case 'windy':
                output = 'Windy';
                break;
              case 'dust':
                output = 'Dusty';
                break;
              case 'fog':
                output = 'Foggy';
                break;
              case 'showers':
                output = 'Showers';
                break;
              case 'rain':
                output = 'Rain';
                break;
              case 'rainy':
                output = 'Rainy';
                break;
              case 'storm':
                output = 'Stormy';
                break;
              case 'stormy':
                output = 'Stormy';
                break;
              case 'light-showers':
                output = 'Light Showers';
                break;
              case 'light-shower':
                output = 'Light Showers';
                break;
              case 'heavy-showers':
                output = 'Heavy Showers';
                break;
              case 'heavy-shower':
                output = 'Heavy Showers';
                break;
              case 'clear-day':
                output = 'Clear';
                break;
              case 'clear-night':
                output = 'Clear';
                break;
              case 'partly-cloudy-day':
                output = 'Partly Cloudy';
                break;
              case 'partly-cloudy-night':
                output = 'Partly Cloudy';
                break;
              case 'hail':
                output = 'Hailing';
                break;
              case 'lightning':
                output = 'Lightning';
                break;
              case 'thunderstorm':
                output = 'Thunderstorms';
                break;
              default:
                output = states['weather.kwdr_daynight'].state;
                break;
              }

              return `Conditions: ${output}`;
          ]]]
        style: |
          ha-card {
            display: flex;
            position: relative;
            margin: 0;
            overflow: visible;
            border-radius: 0;
            height: 40px;
            width: 9.5rem;
            min-width: 9.5rem;
            min-height: 40px;
            background-color: #8FF;
            border-right: 28px solid #8FF;
            border-left: 18px solid #8FF;
          }
          ha-card:after {
            right: 0;
            bottom: 1.5rem;
          }
          ha-card div.ellipsis {
            position: absolute;
            left: 10px;
            background-color: #8FF;
            height: 40px;
            overflow: visible;
            padding: 5px;
            font-size: 1.5rem;
            font-family: Antonio;
            line-height: 40px;
            text-transform: uppercase;
            color: #111;
          }
          ha-card.button-card-main {
            padding: 0 0 !important;
          }
    view_layout:
      grid-area: weather
  - type: custom:stack-in-card
    keep:
      background: true
    card_mod:
      style: |
        ha-card.type-custom-stack-in-card {
          border-radius: 0;
          border: 0;
        }
    cards:
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #58e;
                border-right: 28px solid #58e;
                border-left: 18px solid #58e;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 50px;
                background-color: #58e;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                color: #111;
              }
          - type: custom:button-card
            style: |

              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-image: linear-gradient(to right top, rgb(85, 136, 238) 50%, rgb(0, 0, 0) 50%);
                border: #111;
              }
              ha-card div.vertical.no-icon.no-label.no-state {
                background: #111;
                border-radius: 0 0 0 30px;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
      - type: custom:button-card
        style: |
          ha-card.button-card-main {
            display: flex;
            position: relative;
            margin: 0;
            overflow: visible;
            border-radius: 0 0 0 35px !important;
            height: 40px;
            width: 9.5rem;
            min-width: 9.5rem;
            min-height: 40px;
            background-color: #58e;
            border-right: 28px solid #58e;
            border-left: 18px solid #58e;
            border-bottom-left-radius: 3.75rem;
          }
          ha-card.button-card-main::after {
            right: 0;
            bottom: 1.5rem;
            border-bottom-left-radius: 35px;
          }
          ha-card.button-card-main div.ellipsis {
            position: absolute;
            left: 10px;
            background-color: #58e;
            height: 40px;
            overflow: visible;
            padding: 5px;
            font-size: 1.5rem;
            font-family: Antonio;
            line-height: 40px;
            text-align: right;
            text-transform: uppercase;
            color: #111;
          }
    view_layout:
      grid-area: time
  - type: custom:stack-in-card
    keep:
      background: true
    card_mod:
      style: |
        ha-card.type-custom-stack-in-card {
          border-radius: 0;
          border: 0;
        }
    cards:
      - type: custom:button-card
        name: |
          [[[
              return `${states['sensor.template_header_weather'].state}`
          ]]]
        layout: vertical
        style: |
          ha-card {
            display: flex;
            position: relative;
            margin: 0;
            overflow: visible;
            border-radius: 0;
            height: 80px;
            width: 6rem;
            min-width: 6rem;
            min-height: 80px;
            background-color: #111;
          }
          ha-card div.ellipsis {
            position: absolute;
            left: 10px;
            background-color: #111;
            color: #FFF;
            height: 80px;
            overflow: visible;
            padding: 5px;
            font-size: 1.5rem;
            font-family: Antonio;
            line-height: 80px;
            text-transform: uppercase;
            vertical-align: middle;
            color: #FFF;
          }
          ha-card.button-card-main {
            padding: 0 0 !important;
          }
      - type: custom:button-card
        name: |
          [[[ 
            var forecast;
            var current;

            var greeting = states['sensor.template_header_greet'].state;
            if ( states['weather.kwdr_daynight'].attributes.forecast === undefined ) {
              forecast = "";
              current = " Current: " + states['sensor.outside_temp'].state + states['sensor.outside_temp'].attributes.unit_of_measurement
            }
            else {
              var daytime = states['weather.kwdr_daynight'].attributes.forecast[0].daytime;
              if (daytime) {
                forecast = "Hi: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
              }
              else
              {
                forecast = "Lo: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
              }
              
              current = " Current: " + states['weather.kwdr_daynight'].attributes.temperature + states['weather.kwdr_daynight'].attributes.temperature_unit;
            }
            return greeting + " | " + forecast + " | " + current;
          ]]]
        style: |
          ha-card {
            display: flex;
            position: relative;
            margin: 0;
            overflow: visible;
            border-radius: 0 10px 10px 0 !important;
            height: 40px;
            width: 9.5rem;
            min-width: 9.5rem;
            min-height: 40px;
            background-color: #79D;
            border-right: 28px solid #79D;
            border-left: 18px solid #79D;
            border-top: #111;
            border-bottom: #111;
          }
          ha-card.button-card-main::after {
            content: "";
            background-color: #111;
            display: block;
            width: 10px;
            height: 50px;
            position: absolute;
            top: 0;
            right: 0;
            overflow: hidden;
          }

          ha-card.button-card-main div.ellipsis {
            position: absolute;
            left: 10px;
            background-color: #79D;
            height: 40px;
            overflow: visible;
            padding: 5px;
            font-size: 1.5rem;
            font-family: Antonio;
            line-height: 40px;
            text-transform: uppercase;
            color: #111;
          }
          ha-card.button-card-main {
            padding: 0 0 !important;
          }
    view_layout:
      grid-area: greeting
  - type: vertical-stack
    cards:
      - type: custom:button-card
        name: Compute Core
        style: |
          ha-card {
            display: flex;
            position: relative;
            margin: 0;
            overflow: visible;
            border-radius: 0 10px 10px 0;
            height: 40px;
            width: 9.5rem;
            min-width: 9.5rem;
            min-height: 40px;
            background-color: #79D;
            border-right: 28px solid #79D;
            border-left: 18px solid #79D;
            border-top: #111;
            border-bottom: #111;
          }
          ha-card::after {
            content: "";
            background-color: #111;
            display: block;
            width: 10px;
            height: 50px;
            position: absolute;
            top: 0;
            right: 0;
            overflow: hidden;
          }

          ha-card div.ellipsis {
            position: absolute;
            left: 10px;
            background-color: #79D;
            height: 40px;
            overflow: visible;
            padding: 5px;
            font-size: 1.5rem;
            font-family: Antonio;
            line-height: 40px;
            text-transform: uppercase;
            color: #111;
          }
          ha-card.button-card-main {
            padding: 0 0 !important;
          }
      - type: picture
        image: /local/images/rack.png
        tap_action:
          action: none
        hold_action:
          action: none
    view_layout:
      grid-area: aux
  - type: vertical-stack
    cards:
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Logistics
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #8FF;
                border-right: 28px solid #8FF;
                border-left: 18px solid #8FF;
                border-top: 0;
                border-bottom: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #8FF;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:stack-in-card
            mode: horizontal
            cards:
              - type: custom:mushroom-template-card
                card_mod:
                  style: |
                    ha-card {
                      height: 500px;
                    }
                entity: sensor.mail_state
                primary: |
                  USPS Mail
                secondary: |-

                  {% if states('sensor.mail_state')|int == 0 %}
                    No Mail Today
                  {% elif states('sensor.mail_state')|int == 1 %} 
                    No Mail Yet
                    Check Back Later
                  {% elif states('sensor.mail_state')|int == 2 %} 
                    Mail Delivered
                    {{ states.input_datetime.mail_delivered.state }}
                  {% elif states('sensor.mail_state')|int == 3 %} 
                    Mail Picked Up
                    More Words Here Eventually
                  {% else %} 
                    Error
                    I have no idea anymore...
                  {% endif %}
                icon: >
                  {% if states('sensor.mail_state')|int == 0 %}
                  mdi:email-off-outline

                  {% elif states('sensor.mail_state')|int == 1 %}
                  mdi:mailbox

                  {% elif states('sensor.mail_state')|int == 2 %}
                  mdi:mailbox-open

                  {% elif states('sensor.mail_state')|int == 3 %}
                  mdi:mailbox-open-up

                  {% else %} mdi:exclamation

                  {% endif %}
                icon_color: |-
                  {% if states('sensor.mail_state')|int == 0 %} white
                  {% elif states('sensor.mail_state')|int == 1 %} black 
                  {% elif states('sensor.mail_state')|int == 2 %} red
                  {% elif states('sensor.mail_state')|int == 3 %} green
                  {% else %} orange
                  {% endif %}
                layout: vertical
                multiline_secondary: true
              - type: vertical-stack
                cards:
                  - type: custom:mushroom-template-card
                    primary: USPS Mail
                    secondary: |-
                      {% if states('sensor.mail_usps_mail')|int > 0 %} 
                      {{states('sensor.mail_usps_mail') }} Letters 
                      {% elif states('sensor.mail_usps_mail')|int == 0 %}
                      {% else %} ERROR
                      {% endif %}
                    icon: |
                      {% if states('sensor.mail_usps_mail')|int > 0 %}
                      mdi:mailbox-open
                      {% elif states('sensor.mail_usps_mail')|int == 0 %}
                      mdi:mailbox
                      {% else %}
                      mdi:exclamation
                      {% endif %}
                    icon_color: |
                      {% if states('sensor.mail_usps_mail')|int > 0 %}
                      green
                      {% elif states('sensor.mail_usps_mail')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                  - type: custom:mushroom-template-card
                    primary: Packages
                    secondary: |
                      {{ states('sensor.mail_packages_in_transit') }} ➤ {{
                      states('sensor.mail_packages_delivered') }}
                    icon: mdi:package
                    icon_color: >
                      {% if states('sensor.mail_packages_delivered')|int > 0
                      %}

                      green

                      {% elif states('sensor.mail_packages_in_transit')|int
                      > 0 %}

                      yellow

                      {% elif states('sensor.mail_packages_in_transit')|int
                      == 0 %}

                      white

                      {% else %}

                      red

                      {% endif %}
          - type: custom:stack-in-card
            mode: horizontal
            cards:
              - type: custom:mushroom-template-card
                primary: USPS
                secondary: |
                  {{ states('sensor.mail_usps_packages') }} ➤ {{
                  states('sensor.mail_usps_delivering') }} ➤ {{
                  states('sensor.mail_usps_delivered') }}
                icon: mdi:package-variant-closed
                icon_color: |
                  {% if states('sensor.mail_usps_delivered')|int > 0 %}
                  green
                  {% elif states('sensor.mail_usps_delivering')|int > 0 %}
                  blue
                  {% elif states('sensor.mail_usps_packages')|int > 0 %}
                  yellow
                  {% elif states('sensor.mail_usps_packages')|int == 0 %}
                  white
                  {% else %}
                  red
                  {% endif %}
                layout: vertical
              - type: custom:mushroom-template-card
                primary: UPS
                secondary: |
                  {{ states('sensor.mail_ups_packages') }} ➤ {{
                  states('sensor.mail_ups_delivering') }} ➤ {{
                  states('sensor.mail_ups_delivered') }}
                icon: mdi:alpha-u-box-outline
                icon_color: |
                  {% if states('sensor.mail_ups_delivered')|int > 0 %}
                  green
                  {% elif states('sensor.mail_ups_delivering')|int > 0 %}
                  blue
                  {% elif states('sensor.mail_ups_packages')|int > 0 %}
                  yellow
                  {% elif states('sensor.mail_ups_packages')|int == 0 %}
                  white
                  {% else %}
                  red
                  {% endif %}
                layout: vertical
              - type: custom:mushroom-template-card
                primary: Fedex
                secondary: |
                  {{ states('sensor.mail_fedex_packages') }} ➤ {{
                  states('sensor.mail_fedex_delivering') }} ➤ {{
                  states('sensor.mail_fedex_delivered') }}
                icon: mdi:alpha-f-box-outline
                layout: vertical
                icon_color: |
                  {% if states('sensor.mail_fedex_delivered')|int > 0 %}
                  green
                  {% elif states('sensor.mail_fedex_delivering')|int > 0 %}
                  blue
                  {% elif states('sensor.mail_fedex_packages')|int > 0 %}
                  yellow
                  {% elif states('sensor.mail_fedex_packages')|int == 0 %}
                  white
                  {% else %}
                  red
                  {% endif %}
              - type: custom:mushroom-template-card
                primary: Amazon
                secondary: |
                  {{ states('sensor.mail_amazon_packages') }} ➤ {{
                  states('sensor.mail_amazon_packages_delivered') }}
                icon: mdi:alpha-a-box-outline
                layout: vertical
                icon_color: >
                  {% if states('sensor.mail_amazon_packages_delivered')|int
                  > 0 %}

                  green {% elif states('sensor.mail_amazon_packages')|int >
                  0 %}

                  yellow {% elif states('sensor.mail_amazon_packages')|int
                  == 0 %}

                  white {% else %} red {% endif %}
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Relays
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 10px 10px 10px 10px;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: 0;
                border-bottom: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                overflow: hidden;
                right: 0;
                bottom: 1.5rem;

              }
          - type: custom:mushroom-template-card
            primary: Unifi USW-24-PoE
            secondary: 'Uptime: {{ states.sensor.unifi_main_switch_uptime.state }}'
            icon: mdi:lan
            icon_color: |-
              {% if states.device_tracker.usl24p.state == 'home' %}
              green
              {% else %}
              red
              {% endif %}
          - type: custom:mushroom-template-card
            primary: Unifi Secure Gateway Pro 4
            secondary: >-
              RX: {{states.sensor.usg_pro_4_rx.state}}/s | TX:
              {{states.sensor.usg_pro_4_tx.state}}/s | Uptime: {{
              relative_time(now() - timedelta( seconds =
              state_attr('sensor.unifi_gateway_wan','gw_system-stats').uptime
              | int))  }}
            icon: mdi:web
            icon_color: >-
              {% if states.sensor.unifi_gateway_www.state | string == 'OK'
              %}

              green

              {% else %}

              red

              {% endif %}
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: EMERGENCY POWER
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 10px 10px 10px 10px;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #455580;
                border-right: 28px solid #455580;
                border-left: 18px solid #455580;
                border-top: 0;
                border-bottom: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #455580;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                overflow: hidden;
                right: 0;
                bottom: 1.5rem;

              }
          - type: custom:mushroom-template-card
            primary: UPS01
            secondary: >-
              Battery: {{states.sensor.ups01_battery_charge.state}}% | Load:
              {{states.sensor.ups01_load.state}}%
            icon: mdi:lightning-bolt-circle
            icon_color: >-
              {% if states.sensor.ups01_battery_charge.state | float >= 30
              %}

              green

              {% elif states.sensor.ups01_battery_charge.state | float >= 10
              %}

              orange

              {% else %}

              red

              {% endif %}
          - type: custom:mushroom-template-card
            primary: UPS02
            secondary: >-
              Battery: {{states.sensor.ups02_battery_charge.state}}% | Load:
              {{states.sensor.ups02_load.state}}%
            icon: mdi:lightning-bolt-circle
            icon_color: >-
              {% if states.sensor.ups02_battery_charge.state | float >= 30
              %}

              green

              {% elif states.sensor.ups02_battery_charge.state | float >= 10
              %}

              orange

              {% else %}

              red

              {% endif %}
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Core Temps
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 10px 10px 10px 10px;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #6CF;
                border-right: 28px solid #6CF;
                border-left: 18px solid #6CF;
                border-top: 0;
                border-bottom: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #6CF;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                overflow: hidden;
                right: 0;
                bottom: 1.5rem;

              }
          - type: custom:mushroom-template-card
            icon: mdi:thermometer
            primary: 'Rack Temp: {{states.sensor.temp_acurite_606tx.state}}°F'
            secondary: 'Room Temp: {{states.sensor.office_temperature.state}}°F'
            icon_color: >-
              {% if states.sensor.temp_acurite_606tx_239.state | float <= 85
              %}

              green

              {% elif states.sensor.temp_acurite_606tx_239.state | float <=
              100 %}

              orange

              {% else %}

              red

              {% endif %}
    view_layout:
      grid-area: sidebar2
  - type: vertical-stack
    cards:
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 35px 0 0 0 !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #58e;
                border-right: 28px solid #58e;
                border-left: 18px solid #58e;
                border-top-left-radius: 3.75rem;
              }
              ha-card.button-card-main::after {
                right: 0;
                bottom: 1.5rem;
                border-top-left-radius: 35px;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #58e;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 277px;
                    width: 5.9rem;
                    min-width: 5.9rem;
                    min-height: 80px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |

                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 277px;
                    width: 6rem;
                    min-width: 6.1rem;
                    min-height: 80px;
                    background-image: linear-gradient(to right, rgb(85, 136, 238) 50%, rgb(28, 28, 28) 50%);
                    border: #111;
                  }
                  ha-card div.vertical.no-icon.no-label.no-state {
                    background: #111;
                    border-radius: 30px 0 0 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        mode: horizontal
        cards:
          - type: custom:button-card
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 191px;
                min-height: 80px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                color: #111;
              }
          - type: custom:button-card
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 191px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
                border: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 191px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        mode: horizontal
        cards:
          - type: custom:button-card
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 191px;
                min-height: 80px;
                background-color: #455580;
                border-right: 28px solid #455580;
                border-left: 18px solid #455580;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #58e;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                color: #111;
              }
          - type: custom:button-card
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 191px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
                border: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 191px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        mode: horizontal
        cards:
          - type: custom:button-card
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 191px;
                min-height: 80px;
                background-color: #6CF;
                border-right: 28px solid #6CF;
                border-left: 18px solid #6CF;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #58e;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                color: #111;
              }
          - type: custom:button-card
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 191px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
                border: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 191px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
    view_layout:
      grid-area: sidebar
  - type: vertical-stack
    cards:
      - type: custom:button-card
        name: R-PI
        style: |
          ha-card {
            display: flex;
            position: relative;
            margin: 0;
            overflow: visible;
            border-radius: 0 0 0 0;
            height: 40px;
            width: 9.5rem;
            min-width: 9.5rem;
            min-height: 40px;
            background-color: #79D;
            border-right: 28px solid #79D;
            border-left: 18px solid #79D;
            border-top: #111;
            border-bottom: #111;
          }
          ha-card::after {
            content: "";

            display: block;
            width: 10px;
            height: 50px;
            position: absolute;
            top: 0;
            right: 0;
            overflow: hidden;
          }

          ha-card div.ellipsis {
            position: absolute;
            left: 10px;
            background-color: #79D;
            height: 40px;
            overflow: visible;
            padding: 5px;
            font-size: 1.5rem;
            font-family: Antonio;
            line-height: 40px;
            text-transform: uppercase;
            color: #111;
          }
          ha-card.button-card-main {
            padding: 0 0 !important;
          }
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-template-card
            icon: mdi:raspberry-pi
            icon_color: >-
              {% if states.sensor.rpi_temp_cardinal.state | int < 140 %}
                green
              {% elif states.sensor.rpi_temp_cardinal.state | int >= 140 and
              states.sensor.rpi_temp_cardinal.state | int < 176 %}
                orange
              {% else %}
                red
              {% endif %}
            multiline_secondary: true
            primary: '{{ states.sensor.rpi_monitor_cardinal.attributes.host_name }}'
            layout: vertical
            secondary: >-
              {% set rpi_model =
              states.sensor.rpi_monitor_cardinal.attributes.rpi_model.split('
              ') %}

              {% set memMax =
              (states.sensor.rpi_monitor_cardinal.attributes.memory.size_mb|int/1024)|int
              +1 %}

              {% set memUsed = '%0.1f' % ( 100- (
              states.sensor.rpi_monitor_cardinal.attributes.memory.free_mb|float
              /
              states.sensor.rpi_monitor_cardinal.attributes.memory.size_mb|float
              )  * 100) %}


              RPi {{ rpi_model[1] }}{{ rpi_model[3] }} {{ memMax }}GB

              CPU: {{ states.sensor.rpi_cpu_use_cardinal.state }}%

              RAM: {{ memUsed }}%

              SD: {{ states.sensor.rpi_used_cardinal.state }}%
            entity: sensor.rpi_temp_cardinal
            tap_action:
              action: more-info
          - type: custom:mushroom-template-card
            icon: mdi:raspberry-pi
            icon_color: >-
              {% if states.sensor.cpu_temp.state | int < 60 %}
                green
              {% elif states.sensor.cpu_temp.state | int >= 60 and
              states.sensor.cpu_temp.state | int < 80 %}
                orange
              {% else %}
                red
              {% endif %}
            multiline_secondary: true
            primary: hestia
            layout: vertical
            secondary: |-
              RPi 4B 8GB
              CPU: {{ states.sensor.processor_use.state }}%
              RAM: {{ states.sensor.memory_use_percent.state }}%
              SD: {{ states.sensor.disk_use_percent.state }}%
            entity: sensor.cpu_temp
            tap_action:
              action: more-info
          - type: custom:mushroom-template-card
            icon: mdi:raspberry-pi
            icon_color: >-
              {% if states.sensor.rpi_temp_artemis.state | int < 140 %}
                green
              {% elif states.sensor.rpi_temp_artemis.state | int >= 140 and
              states.sensor.rpi_temp_artemis.state | int < 176 %}
                orange
              {% else %}
                red
              {% endif %}
            multiline_secondary: true
            primary: '{{ states.sensor.rpi_monitor_artemis.attributes.host_name }}'
            layout: vertical
            secondary: >-
              {% set rpi_model =
              states.sensor.rpi_monitor_artemis.attributes.rpi_model.split('
              ') %}

              {% set memMax =
              (states.sensor.rpi_monitor_artemis.attributes.memory.size_mb|int/1024)|int
              +1 %}

              {% set memUsed = '%0.1f' % ( 100- (
              states.sensor.rpi_monitor_artemis.attributes.memory.free_mb|float
              /
              states.sensor.rpi_monitor_artemis.attributes.memory.size_mb|float
              )  * 100) %}


              RPi {{ rpi_model[1] }}{{ rpi_model[3] }} {{ memMax }}GB

              CPU: {{ states.sensor.rpi_cpu_use_artemis.state }}%

              RAM: {{ memUsed }}%

              SD: {{ states.sensor.rpi_used_artemis.state }}%
            entity: sensor.rpi_temp_artemis
            tap_action:
              action: more-info
          - type: custom:mushroom-template-card
            icon: mdi:raspberry-pi
            icon_color: >-
              {% if states.sensor.rpi_temp_Apollo.state | int < 140 %}
                green
              {% elif states.sensor.rpi_temp_Apollo.state | int >= 140 and
              states.sensor.rpi_temp_Apollo.state | int < 176 %}
                orange
              {% else %}
                red
              {% endif %}
            multiline_secondary: true
            primary: '{{ states.sensor.rpi_monitor_Apollo.attributes.host_name }}'
            layout: vertical
            secondary: >-
              {% set rpi_model =
              states.sensor.rpi_monitor_Apollo.attributes.rpi_model.split('
              ') %}

              {% set memMax =
              (states.sensor.rpi_monitor_Apollo.attributes.memory.size_mb|int/1024)|int
              +1 %}

              {% set memUsed = '%0.1f' % ( 100- (
              states.sensor.rpi_monitor_Apollo.attributes.memory.free_mb|float
              /
              states.sensor.rpi_monitor_Apollo.attributes.memory.size_mb|float
              )  * 100) %}


              RPi {{ rpi_model[1] }}{{ rpi_model[3] }} {{ memMax }}GB

              CPU: {{ states.sensor.rpi_cpu_use_Apollo.state }}%

              RAM: {{ memUsed }}%

              SD: {{ states.sensor.rpi_used_Apollo.state }}%
            entity: sensor.rpi_temp_apollo
            tap_action:
              action: more-info
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-template-card
            icon: mdi:raspberry-pi
            icon_color: >-
              {% if states.sensor.rpi_temp_charles.state | int < 140 %}
                green
              {% elif states.sensor.rpi_temp_charles.state | int >= 140 and
              states.sensor.rpi_temp_charles.state | int < 176 %}
                orange
              {% else %}
                red
              {% endif %}
            multiline_secondary: true
            primary: '{{ states.sensor.rpi_monitor_charles.attributes.host_name }}'
            layout: vertical
            secondary: >-
              {% set rpi_model =
              states.sensor.rpi_monitor_charles.attributes.rpi_model.split('
              ') %}

              {% set memMax =
              (states.sensor.rpi_monitor_charles.attributes.memory.size_mb|int/1024)|int
              +1 %}

              {% set memUsed = '%0.1f' % ( 100- (
              states.sensor.rpi_monitor_charles.attributes.memory.free_mb|float
              /
              states.sensor.rpi_monitor_charles.attributes.memory.size_mb|float
              )  * 100) %}


              RPi {{ rpi_model[1] }}B+ {{ memMax }}GB

              CPU: {{ states.sensor.rpi_cpu_use_charles.state }}%

              RAM: {{ memUsed }}%

              SD: {{ states.sensor.rpi_used_charles.state }}%
            entity: sensor.rpi_temp_charles
            tap_action:
              action: more-info
          - type: custom:mushroom-template-card
            icon: mdi:raspberry-pi
            icon_color: white
            multiline_secondary: true
            primary: Unused
            layout: vertical
            secondary: |-
              RPi ???
              CPU: N/A%
              RAM: N/A%
              SD: N/A%
            entity: sensor.rpi_temp_charles
            tap_action:
              action: more-info
          - type: custom:mushroom-template-card
            icon: mdi:raspberry-pi
            icon_color: grey
            multiline_secondary: true
            primary: Empty Slot
            layout: vertical
            secondary: |-
              RPi ???
              CPU: N/A%
              RAM: N/A%
              SD: N/A%
            entity: sensor.rpi_temp_charles
            tap_action:
              action: more-info
          - type: custom:mushroom-template-card
            icon: mdi:raspberry-pi
            icon_color: grey
            multiline_secondary: true
            primary: Empty Slot
            layout: vertical
            secondary: |-
              RPi ???
              CPU: N/A%
              RAM: N/A%
              SD: N/A%
            entity: sensor.rpi_temp_charles
            tap_action:
              action: more-info
      - type: custom:button-card
        name: Subspace Uplink
        style: |
          ha-card {
            display: flex;
            position: relative;
            margin: 0;
            overflow: visible;
            border-radius: 10px 10px 10px 10px;
            height: 40px;
            width: 9.5rem;
            min-width: 9.5rem;
            min-height: 40px;
            background-color: #79D;
            border-right: 28px solid #79D;
            border-left: 18px solid #79D;
            border-top: 0;
            border-bottom: 0;
          }
          ha-card div.ellipsis {
            position: absolute;
            left: 10px;
            background-color: #79D;
            height: 40px;
            overflow: visible;
            padding: 5px;
            font-size: 1.5rem;
            font-family: Antonio;
            line-height: 40px;
            text-transform: uppercase;
            color: #111;
          }
          ha-card.button-card-main {
            padding: 0 0 !important;
          }
          ha-card::after {
            content: "";
            background-color: #111;
            display: block;
            width: 10px;
            height: 50px;
            position: absolute;
            top: 0;
            overflow: hidden;
            right: 0;
            bottom: 1.5rem;

          }
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-template-card
            primary: >-
              {{states.sensor.speedtest_download.state | float}}
              {{state_attr('sensor.speedtest_download','unit_of_measurement')}}   
            secondary: Download Speed
            icon: mdi:arrow-down
            icon_color: |-
              {% if states.sensor.speedtest_download.state | float < 100 %}
                red
              {% else %}
                green
              {% endif %}
          - type: custom:mushroom-template-card
            primary: >-
              {{states.sensor.speedtest_upload.state | float}}
              {{state_attr('sensor.speedtest_upload','unit_of_measurement')}}   
            secondary: Upload Speed
            icon: mdi:arrow-up
            icon_color: |-
              {% if states.sensor.speedtest_upload.state | float < 15 %}
                red
              {% else %}
                green
              {% endif %}
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-template-card
            primary: >-
              {% if states.binary_sensor.internet_connection.state == 'on'
              %}
                Internet Connection: Up
              {% else %}
                Internet Connection: Down
              {% endif %}
            secondary: >-
              Uptime: {{ relative_time(now() - timedelta( seconds =
              state_attr('sensor.unifi_gateway_www', 'uptime') | int))  }}
            icon: >-
              {% if states.binary_sensor.internet_connection.state == 'on'
              %}
                mdi:network
              {% else %}
                mdi:network-off
              {% endif %}
            icon_color: >-
              {% if states.binary_sensor.internet_connection.state == 'on'
              %}
                green
              {% else %}
                red
              {% endif %}
          - type: custom:mushroom-template-card
            primary: >-
              {{states.sensor.speedtest_ping.state | float}}
              {{state_attr('sensor.speedtest_ping','unit_of_measurement')}}   
            secondary: Ping
            icon: mdi:lan-pending
            icon_color: |-
              {% if states.sensor.speedtest_ping.state | float > 50 %}
                red
              {% else %}
                green
              {% endif %}
      - type: custom:button-card
        name: Power Usage
        style: |
          ha-card {
            display: flex;
            position: relative;
            margin: 0;
            overflow: visible;
            border-radius: 10px 10px 10px 10px;
            height: 40px;
            width: 9.5rem;
            min-width: 9.5rem;
            min-height: 40px;
            background-color: #455580;
            border-right: 28px solid #455580;
            border-left: 18px solid #455580;
            border-top: 0;
            border-bottom: 0;
          }
          ha-card div.ellipsis {
            position: absolute;
            left: 10px;
            background-color: #455580;
            height: 40px;
            overflow: visible;
            padding: 5px;
            font-size: 1.5rem;
            font-family: Antonio;
            line-height: 40px;
            text-transform: uppercase;
            color: #111;
          }
          ha-card.button-card-main {
            padding: 0 0 !important;
          }
          ha-card::after {
            content: "";
            background-color: #111;
            display: block;
            width: 10px;
            height: 50px;
            position: absolute;
            top: 0;
            overflow: hidden;
            right: 0;
            bottom: 1.5rem;

          }
      - type: custom:mushroom-entity-card
        entity: sensor.office_kids_room_9_1mon
        primary_info: state
        secondary_info: name
    view_layout:
      grid-area: main