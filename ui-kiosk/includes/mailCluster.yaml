type: vertical-stack
cards:
  - type: custom:button-card
    name: Logistics
    style: |
      ha-card {
        display: flex;
        position: relative;
        margin: 0;
        overflow: visible;
        border-radius: 0 0 0 0;
        height: 40px;
        width: 9.5rem;
        min-width: 9.5rem;
        min-height: 40px;
        background-color: #8FF;
        border-right: 28px solid #8FF;
        border-left: 18px solid #8FF;
        border-top: 0;
        border-bottom: 0;
      }
      ha-card div.ellipsis {
        position: absolute;
        left: 10px;
        background-color: #8FF;
        height: 40px;
        overflow: visible;
        padding: 5px;
        font-size: 1.5rem;
        font-family: Antonio;
        line-height: 40px;
        text-transform: uppercase;
        color: #111;
      }
      ha-card.button-card-main {
        padding: 0 0 !important;
      }
  - type: custom:stack-in-card
    mode: horizontal
    cards:
      - type: custom:mushroom-template-card
        card_mod:
          style: |
            ha-card {
              height: 500px;
            }
        entity: input_select.mail_status
        primary: |
          USPS Mail
        secondary: |-

          {% if states('sensor.mail_usps_mail')|int == 0 %}
            No Mail Today
          {% else %}
            {{ states('input_select.mail_status') }}
            {% if states('input_select.mail_status') == 'No Mail yet' %} {{ states('sensor.mail_usps_mail')|int }} Letters Expected
            {% elif states('input_select.mail_status') == 'Mail Delivered' %} {{ states.input_datetime.mail_delivered.state }}
            {% elif states('input_select.mail_status') == 'Mail Picked Up' %} {{ states('sensor.mail_usps_mail')|int }} Letters
            {% endif %}
          {% endif %}

        icon: |
          {% if states('sensor.mail_usps_mail')|int == 0  %} mdi:email-off-outline
          {% elif states('input_select.mail_status') == 'No Mail yet' %} mdi:mailbox
          {% elif states('input_select.mail_status') == 'Mail Delivered' %} mdi:mailbox-open
          {% elif states('input_select.mail_status') == 'Mail Picked Up' %} mdi:mailbox-open-up
          {% else %} mdi:exclamation
          {% endif %}
        icon_color: |-
          {% if states('sensor.mail_usps_mail')|int == 0  %} white
          {% elif states('input_select.mail_status') == 'No Mail yet' %} black 
          {% elif states('input_select.mail_status') == 'Mail Delivered' %} red
          {% elif states('input_select.mail_status') == 'Mail Picked Up' %} green
          {% else %} orange
          {% endif %}
        layout: vertical
        multiline_secondary: true
      - type: vertical-stack
        cards:
          - type: custom:mushroom-template-card
            primary: USPS Mail
            secondary: |-
              {% if states('sensor.mail_usps_mail')|int > 0 %} 
              {{states('sensor.mail_usps_mail') }} Letters 
              {% elif states('sensor.mail_usps_mail')|int == 0 %}
              {% else %} ERROR
              {% endif %}
            icon: |
              {% if states('sensor.mail_usps_mail')|int > 0 %}
              mdi:mailbox-open
              {% elif states('sensor.mail_usps_mail')|int == 0 %}
              mdi:mailbox
              {% else %}
              mdi:exclamation
              {% endif %}
            icon_color: |
              {% if states('sensor.mail_usps_mail')|int > 0 %}
              green
              {% elif states('sensor.mail_usps_mail')|int == 0 %}
              white
              {% else %}
              red
              {% endif %}
          - type: custom:mushroom-template-card
            primary: Packages
            secondary: |
              {{ states('sensor.mail_packages_in_transit') }} ➤ {{
              states('sensor.mail_packages_delivered') }}
            icon: mdi:package
            icon_color: |
              {% if states('sensor.mail_packages_delivered')|int > 0 %}
              green
              {% elif states('sensor.mail_packages_in_transit')|int > 0 %}
              yellow
              {% elif states('sensor.mail_packages_in_transit')|int == 0 %}
              white
              {% else %}
              red
              {% endif %}
  - type: custom:stack-in-card
    mode: horizontal
    cards:
      - type: custom:mushroom-template-card
        primary: USPS
        secondary: |
          {{ states('sensor.mail_usps_packages') }} ➤ {{
          states('sensor.mail_usps_delivering') }} ➤ {{
          states('sensor.mail_usps_delivered') }}
        icon: mdi:package-variant-closed
        icon_color: |
          {% if states('sensor.mail_usps_delivered')|int > 0 %}
          green
          {% elif states('sensor.mail_usps_delivering')|int > 0 %}
          blue
          {% elif states('sensor.mail_usps_packages')|int > 0 %}
          yellow
          {% elif states('sensor.mail_usps_packages')|int == 0 %}
          white
          {% else %}
          red
          {% endif %}
        layout: vertical
      - type: custom:mushroom-template-card
        primary: UPS
        secondary: |
          {{ states('sensor.mail_ups_packages') }} ➤ {{
          states('sensor.mail_ups_delivering') }} ➤ {{
          states('sensor.mail_ups_delivered') }}
        icon: mdi:alpha-u-box-outline
        icon_color: |
          {% if states('sensor.mail_ups_delivered')|int > 0 %}
          green
          {% elif states('sensor.mail_ups_delivering')|int > 0 %}
          blue
          {% elif states('sensor.mail_ups_packages')|int > 0 %}
          yellow
          {% elif states('sensor.mail_ups_packages')|int == 0 %}
          white
          {% else %}
          red
          {% endif %}
        layout: vertical
      - type: custom:mushroom-template-card
        primary: Fedex
        secondary: |
          {{ states('sensor.mail_fedex_packages') }} ➤ {{
          states('sensor.mail_fedex_delivering') }} ➤ {{
          states('sensor.mail_fedex_delivered') }}
        icon: mdi:alpha-f-box-outline
        layout: vertical
        icon_color: |
          {% if states('sensor.mail_fedex_delivered')|int > 0 %}
          green
          {% elif states('sensor.mail_fedex_delivering')|int > 0 %}
          blue
          {% elif states('sensor.mail_fedex_packages')|int > 0 %}
          yellow
          {% elif states('sensor.mail_fedex_packages')|int == 0 %}
          white
          {% else %}
          red
          {% endif %}
      - type: custom:mushroom-template-card
        primary: Amazon
        secondary: |
          {{ states('sensor.mail_amazon_packages') }} ➤ {{
          states('sensor.mail_amazon_packages_delivered') }}
        icon: mdi:alpha-a-box-outline
        layout: vertical
        icon_color: |
          {% if states('sensor.mail_amazon_packages_delivered')|int > 0 %}
          green {% elif states('sensor.mail_amazon_packages')|int > 0 %}
          yellow {% elif states('sensor.mail_amazon_packages')|int == 0 %}
          white {% else %} red {% endif %}
