views:
  - theme: Backend-selected
    visible:
      - user: 829c75b162794808a699871056da2b93
    title: Main Floor
    icon: mdi:stairs-down
    layout:
      grid-template-columns: 8% 23% minmax(auto,38%) 25%
      grid-template-rows: 10% minmax(auto,60%) 10%
      grid-template-areas: |
        "time weather greeting greeting"
        "sidebar sidebar2 main aux"
        "footer footer footer footer"
      mediaquery:
        '(max-width: 800px)':
          grid-template-columns: 100%
          grid-template-rows: auto
          grid-template-areas: |
            "weather"
            "greeting"
            "main"
            "aux"
            "sidebar2"
            "footer"
    type: custom:grid-layout
    path: mainfloor
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Logistics
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0 0 0 0;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #8FF;
                    border-right: 28px solid #8FF;
                    border-left: 18px solid #8FF;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #8FF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    card_mod:
                      style: |
                        ha-card {
                          height: 500px;
                        }
                    entity: sensor.mail_state
                    primary: |
                      USPS Mail
                    secondary: |-

                      {% if states('sensor.mail_state')|int == 0 %}
                        No Mail Today
                      {% elif states('sensor.mail_state')|int == 1 %} 
                        No Mail Yet
                        Check Back Later
                      {% elif states('sensor.mail_state')|int == 2 %} 
                        Mail Delivered
                        {{ states.input_datetime.mail_delivered.state }}
                      {% elif states('sensor.mail_state')|int == 3 %} 
                        Mail Picked Up
                        More Words Here Eventually
                      {% else %} 
                        Error
                        I have no idea anymore...
                      {% endif %}
                    icon: >
                      {% if states('sensor.mail_state')|int == 0 %}
                      mdi:email-off-outline

                      {% elif states('sensor.mail_state')|int == 1 %}
                      mdi:mailbox

                      {% elif states('sensor.mail_state')|int == 2 %}
                      mdi:mailbox-open

                      {% elif states('sensor.mail_state')|int == 3 %}
                      mdi:mailbox-open-up

                      {% else %} mdi:exclamation

                      {% endif %}
                    icon_color: |-
                      {% if states('sensor.mail_state')|int == 0 %} white
                      {% elif states('sensor.mail_state')|int == 1 %} black 
                      {% elif states('sensor.mail_state')|int == 2 %} red
                      {% elif states('sensor.mail_state')|int == 3 %} green
                      {% else %} orange
                      {% endif %}
                    layout: vertical
                    multiline_secondary: true
                  - type: vertical-stack
                    cards:
                      - type: custom:mushroom-template-card
                        primary: USPS Mail
                        secondary: |-
                          {% if states('sensor.mail_usps_mail')|int > 0 %} 
                          {{states('sensor.mail_usps_mail') }} Letters 
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          {% else %} ERROR
                          {% endif %}
                        icon: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          mdi:mailbox-open
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          mdi:mailbox
                          {% else %}
                          mdi:exclamation
                          {% endif %}
                        icon_color: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          green
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          white
                          {% else %}
                          red
                          {% endif %}
                      - type: custom:mushroom-template-card
                        primary: Packages
                        secondary: |
                          {{ states('sensor.mail_packages_in_transit') }} ➤ {{
                          states('sensor.mail_packages_delivered') }}
                        icon: mdi:package
                        icon_color: >
                          {% if states('sensor.mail_packages_delivered')|int > 0
                          %}

                          green

                          {% elif states('sensor.mail_packages_in_transit')|int
                          > 0 %}

                          yellow

                          {% elif states('sensor.mail_packages_in_transit')|int
                          == 0 %}

                          white

                          {% else %}

                          red

                          {% endif %}
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    primary: USPS
                    secondary: |
                      {{ states('sensor.mail_usps_packages') }} ➤ {{
                      states('sensor.mail_usps_delivering') }} ➤ {{
                      states('sensor.mail_usps_delivered') }}
                    icon: mdi:package-variant-closed
                    icon_color: |
                      {% if states('sensor.mail_usps_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_usps_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_usps_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_usps_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: UPS
                    secondary: |
                      {{ states('sensor.mail_ups_packages') }} ➤ {{
                      states('sensor.mail_ups_delivering') }} ➤ {{
                      states('sensor.mail_ups_delivered') }}
                    icon: mdi:alpha-u-box-outline
                    icon_color: |
                      {% if states('sensor.mail_ups_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_ups_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_ups_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_ups_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: Fedex
                    secondary: |
                      {{ states('sensor.mail_fedex_packages') }} ➤ {{
                      states('sensor.mail_fedex_delivering') }} ➤ {{
                      states('sensor.mail_fedex_delivered') }}
                    icon: mdi:alpha-f-box-outline
                    layout: vertical
                    icon_color: |
                      {% if states('sensor.mail_fedex_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_fedex_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_fedex_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_fedex_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                  - type: custom:mushroom-template-card
                    primary: Amazon
                    secondary: |
                      {{ states('sensor.mail_amazon_packages') }} ➤ {{
                      states('sensor.mail_amazon_packages_delivered') }}
                    icon: mdi:alpha-a-box-outline
                    layout: vertical
                    icon_color: >
                      {% if states('sensor.mail_amazon_packages_delivered')|int
                      > 0 %}

                      green {% elif states('sensor.mail_amazon_packages')|int >
                      0 %}

                      yellow {% elif states('sensor.mail_amazon_packages')|int
                      == 0 %}

                      white {% else %} red {% endif %}
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Lights
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #79D;
                    border-right: 28px solid #79D;
                    border-left: 18px solid #79D;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #79D;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-light-card
                    entity: light.kitchen
                    name: Galley
                    show_brightness_control: false
                    collapsible_controls: true
                    icon: mdi:ceiling-light
                  - type: custom:mushroom-light-card
                    entity: light.dining_room
                    name: Conf
                    show_brightness_control: false
                    collapsible_controls: true
                  - type: custom:mushroom-light-card
                    entity: light.living_room_2
                    name: Lounge
                    show_brightness_control: false
                    collapsible_controls: true
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-light-card
                    entity: light.garage
                    name: Shuttlebay
                    show_brightness_control: false
                    collapsible_controls: true
                    icon: mdi:ceiling-light
                  - type: custom:mushroom-light-card
                    entity: light.master_bedroom
                    name: Quarters
                    show_brightness_control: false
                    collapsible_controls: true
                  - type: custom:mushroom-light-card
                    entity: light.front_yard
                    name: Exterior
                    show_brightness_control: false
                    collapsible_controls: true
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Life Support
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #455580;
                    border-right: 28px solid #455580;
                    border-left: 18px solid #455580;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #455580;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    entity: sensor.dining_room_temperature
                    name: Conf
                  - type: custom:mushroom-entity-card
                    entity: sensor.main_floor_temperature
                    name: Lounge
                  - type: custom:mushroom-fan-card
                    entity: fan.living_room_ceiling_fan
                    name: Lounge
                    icon_animation: true
                    icon: mdi:fan
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    entity: sensor.outside_temp
                    name: Exterior
                  - type: custom:mushroom-entity-card
                    entity: sensor.master_bedroom_temperature
                    name: Quarters
                  - type: custom:mushroom-fan-card
                    entity: fan.master_bedroom_ceiling_fan
                    name: Quarters
                    icon_animation: true
                    icon: mdi:fan
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Holodecks
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #6CF;
                    border-right: 28px solid #6CF;
                    border-left: 18px solid #6CF;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #6CF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - entity: media_player.living_room_tv
                        state_not: playing
                    card:
                      type: custom:mushroom-media-player-card
                      entity: media_player.sony_xbr_55x900h
                      icon: mdi:television
                  - type: conditional
                    conditions:
                      - entity: media_player.living_room_tv
                        state: playing
                    card:
                      type: custom:mushroom-media-player-card
                      entity: media_player.living_room_tv
                      use_media_info: true
        view_layout:
          grid-area: sidebar2
      - type: vertical-stack
        cards:
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 35px 0 0 0 !important;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                    border-top-left-radius: 3.75rem;
                  }
                  ha-card.button-card-main::after {
                    right: 0;
                    bottom: 1.5rem;
                    border-top-left-radius: 35px;
                  }
                  ha-card.button-card-main div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    style: |
                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 277px;
                        width: 5.9rem;
                        min-width: 5.9rem;
                        min-height: 80px;
                        background-color: #58e;
                        border-right: 28px solid #58e;
                        border-left: 18px solid #58e;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #58e;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 80px;
                        text-transform: uppercase;
                        color: #111;
                      }
                  - type: custom:button-card
                    style: |

                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 277px;
                        width: 6rem;
                        min-width: 6.1rem;
                        min-height: 80px;
                        background-image: linear-gradient(to right, rgb(85, 136, 238) 50%, rgb(28, 28, 28) 50%);
                        border: #111;
                      }
                      ha-card div.vertical.no-icon.no-label.no-state {
                        background: #111;
                        border-radius: 30px 0 0 0;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #111;
                        color: #FFF;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 40px;
                        text-transform: uppercase;
                        color: #FFF;
                      }
                      ha-card.button-card-main {
                        padding: 0 0 !important;
                      }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #79D;
                    border-right: 28px solid #79D;
                    border-left: 18px solid #79D;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #455580;
                    border-right: 28px solid #455580;
                    border-left: 18px solid #455580;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #6CF;
                    border-right: 28px solid #6CF;
                    border-left: 18px solid #6CF;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
        view_layout:
          grid-area: sidebar
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[ 
                var date = new Date().getDate();
                var year = new Date().getYear();
                var year = year - 100;
                var numMonth = new Date().getMonth();
                var month;
                switch(numMonth) {
                  case 0:
                    month = 'Jan';
                    break;
                  case 1:
                    month = 'Feb';
                    break;
                  case 2:
                    month = 'Mar';
                    break;
                  case 3:
                    month = 'Apr';
                    break;
                  case 4:
                    month = 'May';
                    break;
                  case 5:
                    month = 'Jun';
                    break;
                  case 6:
                    month = 'Jul';
                    break;
                  case 7:
                    month = 'Aug';
                    break;
                  case 8:
                    month = 'Sep';
                    break;
                  case 9:
                    month = 'Oct';
                    break;
                  case 10:
                    month = 'Nov';
                    break;
                  case 11:
                    month = 'Dec';
                    break;
                }

                var time = new Date().toLocaleTimeString('en-US',{ hour12: false, hour: "2-digit", minute: "2-digit"});
                return `Stardate: ${states['sensor.stardate'].state} &#149; ${date} ${month} ${year} &#149; ${time}`
              ]]]
            layout: vertical
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
                padding: 0 0 !important;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                right: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                text-align: right;
                color: #FFF;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var condition = states['weather.kwdr_daynight'].state;
                var output;
                switch(condition) {
                  case 'sunny':
                    output = 'Sunny';
                    break;
                  case 'clear':
                    output = 'Clear';
                    break;
                  case 'mostly-sunny':
                    output = 'Mostly Sunny';
                    break;
                  case 'partly-cloudy':
                    output = 'Partly Cloudy';
                    break;
                  case 'cloudy':
                    output = 'Cloudy';
                    break;
                  case 'light-rain':
                    output = 'Light Rain';
                    break;
                  case 'wind':
                    output = 'Windy';
                    break;
                  case 'windy':
                    output = 'Windy';
                    break;
                  case 'dust':
                    output = 'Dusty';
                    break;
                  case 'fog':
                    output = 'Foggy';
                    break;
                  case 'showers':
                    output = 'Showers';
                    break;
                  case 'rain':
                    output = 'Rain';
                    break;
                  case 'rainy':
                    output = 'Rainy';
                    break;
                  case 'storm':
                    output = 'Stormy';
                    break;
                  case 'stormy':
                    output = 'Stormy';
                    break;
                  case 'light-showers':
                    output = 'Light Showers';
                    break;
                  case 'light-shower':
                    output = 'Light Showers';
                    break;
                  case 'heavy-showers':
                    output = 'Heavy Showers';
                    break;
                  case 'heavy-shower':
                    output = 'Heavy Showers';
                    break;
                  case 'clear-day':
                    output = 'Clear';
                    break;
                  case 'clear-night':
                    output = 'Clear';
                    break;
                  case 'partly-cloudy-day':
                    output = 'Partly Cloudy';
                    break;
                  case 'partly-cloudy-night':
                    output = 'Partly Cloudy';
                    break;
                  case 'hail':
                    output = 'Hailing';
                    break;
                  case 'lightning':
                    output = 'Lightning';
                    break;
                  case 'thunderstorm':
                    output = 'Thunderstorms';
                    break;
                  default:
                    output = states['weather.kwdr_daynight'].state;
                    break;
                  }

                  return `Conditions: ${output}`;
              ]]]
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 40px;
                min-height: 40px;
                background-color: #8FF;
                border-right: 28px solid #8FF;
                border-left: 18px solid #8FF;
                padding: 0 0 !important;
              }

              ha-card.button-card-main div.ellipsis {
                position: absolute;
                right: 10px;
                background-color: #8FF;
                height: 40px;
                overflow: visible;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card {
                
              }
        view_layout:
          grid-area: weather
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Deck Controls
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:simple-thermostat
            entity: climate.main_floor
            layout: null
            header: {}
            control: false
          - type: custom:aarlo-glance
            entities:
              - entity: camera.aarlo_frontdoor
                image_bottom: motion,sound,signal,bell|library,snapshot
              - entity: camera.aarlo_back_door
                image_bottom: motion,sound,signal,bell, battery|library,snapshot
              - entity: camera.aarlo_driveway
                image_bottom: motion,sound,signal,bell,battery|library,snapshot
            global: active,blended
            image_view: direct
            image_top: name,date,status
            image_click: stream
            library_sizes: 3,4,2
          - type: entities
            title: Misc Info
            entities:
              - type: section
                label: Water Usage
              - entity: sensor.monthly_water
              - entity: sensor.water_bill
              - type: section
                label: Power Usage
              - entity: sensor.home_123_1mon
                name: Power Usage (Monthly)
              - entity: sensor.power_bill
            state_color: true
        view_layout:
          grid-area: aux
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 50px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |

                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-image: linear-gradient(to right top, rgb(85, 136, 238) 50%, rgb(0, 0, 0) 50%);
                    border: #111;
                  }
                  ha-card div.vertical.no-icon.no-label.no-state {
                    background: #111;
                    border-radius: 0 0 0 30px;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:button-card
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 35px !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #58e;
                border-right: 28px solid #58e;
                border-left: 18px solid #58e;
                border-bottom-left-radius: 3.75rem;
              }
              ha-card.button-card-main::after {
                right: 0;
                bottom: 1.5rem;
                border-bottom-left-radius: 35px;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #58e;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-align: right;
                text-transform: uppercase;
                color: #111;
              }
        view_layout:
          grid-area: time
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[
                  return `${states['sensor.template_header_weather'].state}`
              ]]]
            layout: vertical
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var forecast;
                var current;

                var greeting = states['sensor.template_header_greet'].state;
                if ( states['weather.kwdr_daynight'].attributes.forecast === undefined ) {
                  forecast = "";
                  current = " Current: " + states['sensor.outside_temp'].state + states['sensor.outside_temp'].attributes.unit_of_measurement
                }
                else {
                  var daytime = states['weather.kwdr_daynight'].attributes.forecast[0].daytime;
                  if (daytime) {
                    forecast = "Hi: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  else
                  {
                    forecast = "Lo: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  
                  current = " Current: " + states['weather.kwdr_daynight'].attributes.temperature + states['weather.kwdr_daynight'].attributes.temperature_unit;
                }
                return greeting + " | " + forecast + " | " + current;
              ]]]
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0 !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card.button-card-main::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
        view_layout:
          grid-area: greeting
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Deck A
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";

                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: picture-elements
            image: /local/images/floorplan/theme/space/Ground-Floor/base.png
            style: |
              ha-card {
                background: #1C1C1C;
                mix-blend-mode: screen;
              }
              config-template-card {
                position: absolute;
                pointer-events: none;
                mix-blend-mode: screen;
                transform: translate(0,0) !important;
                top: 0;
                left: 0;
                bottom: 0;
                right: 0rt;
              }
              hui-image-element {
                position: absolute;
                pointer-events: none;
                mix-blend-mode: screen;
                transform: translate(0,0) !important;
                top: 0;
                left: 0;
                bottom: 0;
                right: 0;
              }
            elements:
              - type: custom:config-template-card
                variables:
                  - states['sensor.sunlight_pct'].state
                  - states['sun.sun'].state
                entities:
                  - sun.sun
                  - sensor.sunlight_opacity
                element:
                  type: image
                  image: >-
                    /local/images/floorplan/theme/space/Ground-Floor/base-day.png
                style:
                  opacity: '${ vars[1] === ''above_horizon'' ? vars[0]/100 : ''0%'' }'
              - type: custom:config-template-card
                variables:
                  - states['light.dining_room'].attributes.brightness
                  - states['light.dining_room'].state
                entities:
                  - light.dining_room
                element:
                  type: image
                  image: >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-dining.png
                style:
                  opacity: '${ vars[1] === ''on'' ? vars[0]/255 : ''0%'' }'
              - type: custom:config-template-card
                variables:
                  - >-
                    states['light.master_bedroom_outer_lights'].attributes.brightness
                  - states['light.master_bedroom_outer_lights'].state
                entities:
                  - light.master_bedroom_outer_lights
                element:
                  type: image
                  image: >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-bedroom-0.png
                style:
                  opacity: '${ vars[1] === ''on'' ? vars[0]/255 : ''0%'' }'
              - type: custom:config-template-card
                variables:
                  - >-
                    states['light.master_bedroom_center_light'].attributes.brightness
                  - states['light.master_bedroom_center_light'].state
                entities:
                  - light.master_bedroom_center_light
                element:
                  type: image
                  image: >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-bedroom-1.png
                style:
                  opacity: '${ vars[1] === ''on'' ? vars[0]/255 : ''0%'' }'
              - type: custom:config-template-card
                variables:
                  - >-
                    states['light.living_room_outer_lights'].attributes.brightness
                  - states['light.living_room_outer_lights'].state
                entities:
                  - light.living_room_outer_lights
                element:
                  type: image
                  image: >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-livingroom-0.png
                style:
                  opacity: '${ vars[1] === ''on'' ? vars[0]/255 : ''0%'' }'
              - type: custom:config-template-card
                variables:
                  - >-
                    states['light.living_room_ceiling_fan_light'].attributes.brightness
                  - states['light.living_room_ceiling_fan_light'].state
                entities:
                  - light.living_room_ceiling_fan_light
                element:
                  type: image
                  image: >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-livingroom-1.png
                style:
                  opacity: '${ vars[1] === ''on'' ? vars[0]/255 : ''0%'' }'
              - type: image
                entity: light.foyer
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-foyer.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.garage
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-garage.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.stairway_lights
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-stairs.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.front_porch
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-front-porch.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.front_sconces
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-garage-scones.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.kitchen_overhead
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-kitchen-0.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.kitchen_hanging
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-kitchen-1.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.breakfast
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-breakfast.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.mud_room
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-mudroom.png
                  'off': /local/images/transparent.png
              - type: image
                entity: media_player.sony_xbr_55x900h
                tap_action:
                  action: none
                state_image:
                  playing: >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-livingroom-tv.png
                  'on': >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-livingroom-tv.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.back_porch
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Ground-Floor/lit-back-porch.png
                  'off': /local/images/transparent.png
              - type: state-icon
                entity: fan.living_room_ceiling_fan
                icon: mdi:fan
                tap_action:
                  action: none
                style:
                  top: 49%
                  left: 18.6%
                  transform: translate(-50%,-50%) scale(2,2)
                card_mod:
                  style:
                    state-badge:
                      $:
                        ha-state-icon:
                          $:
                            ha-icon:
                              $: |
                                ha-svg-icon {
                                  color: {{ '#FDD835' if states('fan.living_room_ceiling_fan') == 'on' else '#44739E'}};
                                  animation:
                                    {% if states('fan.living_room_ceiling_fan') == 'on' -%}
                                      rotation 2s linear infinite;
                                    {% else %} null
                                    {% endif %}
                                }
                                @keyframes rotation {
                                  0% {
                                    transform: rotate(0deg);
                                  }
                                  100% {
                                    transform: rotate(-360deg);
                                  }
                                }
              - type: state-icon
                entity: fan.master_bedroom_ceiling_fan
                icon: mdi:fan
                tap_action:
                  action: none
                style:
                  top: 17%
                  left: 65.5%
                  transform: translate(-50%,-50%) scale(2,2)
                card_mod:
                  style:
                    state-badge:
                      $:
                        ha-state-icon:
                          $:
                            ha-icon:
                              $: |
                                ha-svg-icon {
                                  color: {{ '#FDD835' if states('fan.master_bedroom_ceiling_fan') == 'on' else '#44739E'}};
                                  animation:
                                    {% if states('fan.master_bedroom_ceiling_fan') == 'on' -%}
                                      rotation 2s linear infinite;
                                    {% else %} null
                                    {% endif %}
                                }
                                @keyframes rotation {
                                  0% {
                                    transform: rotate(0deg);
                                  }
                                  100% {
                                    transform: rotate(-360deg);
                                  }
                                }
              - type: state-icon
                entity: weather.kwdr_daynight
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                style:
                  top: 4%
                  left: 4%
                  transform: translate(0%,0%) scale(2.5,2.5)
              - type: image
                entity: vacuum.gurtrude
                state_image:
                  cleaning: /local/images/roomba.gif
                  docked: /local/images/transparent.png
                  error: /local/images/transparent.png
                  idle: /local/images/transparent.png
                  paused: /local/images/transparent.png
                  returning: /local/images/roomba.gif
                  unavailable: /local/images/transparent.png
                  unknown: /local/images/transparent.png
                style:
                  transform: scale(.1)
                  mix-blend-mode: unset
                  top: 20%
                  left: 58%
                  height: 10%
                  width: 10%
              - type: state-label
                entity: sensor.sunlight_pct
                prefix: 'Opacity: '
                style:
                  transform: translate(0%,0%)
                  top: 94%
                  left: 1px
              - type: image
                entity: vacuum.gurtrude
                state_image:
                  cleaning: /local/images/roomba.gif
                  docked: /local/images/transparent.png
                  error: /local/images/transparent.png
                  idle: /local/images/transparent.png
                  paused: /local/images/transparent.png
                  returning: /local/images/roomba.gif
                  unavailable: /local/images/transparent.png
                  unknown: /local/images/transparent.png
                style:
                  transform: scale(.1)
                  mix-blend-mode: unset
                  top: 20%
                  left: 58%
                  height: 10%
                  width: 10%
              - type: state-icon
                entity: vacuum.philoctetes
                style:
                  top: 26%
                  left: 2%
                  transform: translate(0%,0%) scale(1.5,1.5)
              - type: custom:group-element
                toggle_tap: true
                visible: false
                style:
                  height: 50px
                  left: 3%
                  top: 4%
                  width: 50px
                close_button:
                  show: true
                  style:
                    background-color: rgba(255, 255, 255, 0.6)
                    border-color: black
                    border-radius: 10px
                    border-style: solid
                    left: 1%
                    top: 1%
                    transform: none
                elements_pos:
                  height: 335px
                  left: 3%
                  top: 4%
                  width: 250px
                  transform: none
                  background-color: rgba(0, 0, 0, 0.7)
                  border-radius: 10px
                elements:
                  - type: state-label
                    entity: sensor.blank
                    prefix: Current Weather
                    style:
                      top: 5px
                      left: 50%
                      transform: translate(-50%,0%)
                      font-size: 120%
                      font-weight: bold
                  - type: custom:stack-in-card
                    style:
                      top: 45px
                      left: 50%
                      transform: translate(-50%, 0%)
                    cards:
                      - type: custom:mushroom-entity-card
                        entity: sensor.outside_temp
                        name: Temp
                      - type: custom:mushroom-entity-card
                        entity: sensor.outdoor_humidity
                        name: RH%
                      - type: custom:mushroom-template-card
                        entity: sensor.wind_acurite_5n1
                        icon: mdi:windsock
                        icon_color: >-
                          {% if states.sensor.wind_acurite_5n1.state | float <
                          15 %}
                            blue
                          {% else %}
                            red
                          {% endif %}
                        primary: Wind
                        secondary: >-
                          {{states.sensor.wind_acurite_5n1.state | float }}
                          {{states.sensor.wind_acurite_5n1.attributes.unit_of_measurement
                          }}
                          {{states.sensor.wind_dir_acurite_5n1.attributes.compass
                          | string }}
                      - type: custom:mushroom-entity-card
                        entity: sensor.rain_daily
                        name: Rainfall (Today)
        view_layout:
          grid-area: main
  - theme: Backend-selected
    title: Upstairs
    path: upstairs
    icon: mdi:stairs-up
    type: custom:grid-layout
    layout:
      grid-template-columns: 8% 23% minmax(auto,38%) 25%
      grid-template-rows: 10% minmax(auto,80%) 10%
      grid-template-areas: |
        "time weather greeting greeting"
        "sidebar sidebar2 main aux"
        "footer footer footer footer"
      mediaquery:
        '(max-width: 800px)':
          grid-template-columns: 100%
          grid-template-rows: auto
          grid-template-areas: |
            "weather"
            "greeting"
            "main"
            "aux"
            "sidebar2"
            "footer"
    visible:
      - user: 829c75b162794808a699871056da2b93
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Deck Controls
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:simple-thermostat
            entity: climate.upstairs
            layout: null
            header: true
            control: false
          - type: custom:aarlo-glance
            entities:
              - entity: camera.aarlo_frontdoor
                image_bottom: motion,sound,signal,bell|library,snapshot
              - entity: camera.aarlo_back_door
                image_bottom: motion,sound,signal,bell, battery|library,snapshot
              - entity: camera.aarlo_driveway
                image_bottom: motion,sound,signal,bell,battery|library,snapshot
            global: active,blended
            image_view: direct
            image_top: name,date,status
            image_click: stream
            library_sizes: 3,4,2
          - type: entities
            entities:
              - entity: sensor.catbug_battery_level
        view_layout:
          grid-area: aux
      - type: vertical-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Logistics
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0 0 0 0;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #8FF;
                    border-right: 28px solid #8FF;
                    border-left: 18px solid #8FF;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #8FF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    card_mod:
                      style: |
                        ha-card {
                          height: 500px;
                        }
                    entity: sensor.mail_state
                    primary: |
                      USPS Mail
                    secondary: |-

                      {% if states('sensor.mail_state')|int == 0 %}
                        No Mail Today
                      {% elif states('sensor.mail_state')|int == 1 %} 
                        No Mail Yet
                        Check Back Later
                      {% elif states('sensor.mail_state')|int == 2 %} 
                        Mail Delivered
                        {{ states.input_datetime.mail_delivered.state }}
                      {% elif states('sensor.mail_state')|int == 3 %} 
                        Mail Picked Up
                        More Words Here Eventually
                      {% else %} 
                        Error
                        I have no idea anymore...
                      {% endif %}
                    icon: >
                      {% if states('sensor.mail_state')|int == 0 %}
                      mdi:email-off-outline

                      {% elif states('sensor.mail_state')|int == 1 %}
                      mdi:mailbox

                      {% elif states('sensor.mail_state')|int == 2 %}
                      mdi:mailbox-open

                      {% elif states('sensor.mail_state')|int == 3 %}
                      mdi:mailbox-open-up

                      {% else %} mdi:exclamation

                      {% endif %}
                    icon_color: |-
                      {% if states('sensor.mail_state')|int == 0 %} white
                      {% elif states('sensor.mail_state')|int == 1 %} black 
                      {% elif states('sensor.mail_state')|int == 2 %} red
                      {% elif states('sensor.mail_state')|int == 3 %} green
                      {% else %} orange
                      {% endif %}
                    layout: vertical
                    multiline_secondary: true
                  - type: vertical-stack
                    cards:
                      - type: custom:mushroom-template-card
                        primary: USPS Mail
                        secondary: |-
                          {% if states('sensor.mail_usps_mail')|int > 0 %} 
                          {{states('sensor.mail_usps_mail') }} Letters 
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          {% else %} ERROR
                          {% endif %}
                        icon: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          mdi:mailbox-open
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          mdi:mailbox
                          {% else %}
                          mdi:exclamation
                          {% endif %}
                        icon_color: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          green
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          white
                          {% else %}
                          red
                          {% endif %}
                      - type: custom:mushroom-template-card
                        primary: Packages
                        secondary: |
                          {{ states('sensor.mail_packages_in_transit') }} ➤ {{
                          states('sensor.mail_packages_delivered') }}
                        icon: mdi:package
                        icon_color: >
                          {% if states('sensor.mail_packages_delivered')|int > 0
                          %}

                          green

                          {% elif states('sensor.mail_packages_in_transit')|int
                          > 0 %}

                          yellow

                          {% elif states('sensor.mail_packages_in_transit')|int
                          == 0 %}

                          white

                          {% else %}

                          red

                          {% endif %}
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    primary: USPS
                    secondary: |
                      {{ states('sensor.mail_usps_packages') }} ➤ {{
                      states('sensor.mail_usps_delivering') }} ➤ {{
                      states('sensor.mail_usps_delivered') }}
                    icon: mdi:package-variant-closed
                    icon_color: |
                      {% if states('sensor.mail_usps_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_usps_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_usps_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_usps_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: UPS
                    secondary: |
                      {{ states('sensor.mail_ups_packages') }} ➤ {{
                      states('sensor.mail_ups_delivering') }} ➤ {{
                      states('sensor.mail_ups_delivered') }}
                    icon: mdi:alpha-u-box-outline
                    icon_color: |
                      {% if states('sensor.mail_ups_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_ups_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_ups_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_ups_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: Fedex
                    secondary: |
                      {{ states('sensor.mail_fedex_packages') }} ➤ {{
                      states('sensor.mail_fedex_delivering') }} ➤ {{
                      states('sensor.mail_fedex_delivered') }}
                    icon: mdi:alpha-f-box-outline
                    layout: vertical
                    icon_color: |
                      {% if states('sensor.mail_fedex_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_fedex_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_fedex_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_fedex_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                  - type: custom:mushroom-template-card
                    primary: Amazon
                    secondary: |
                      {{ states('sensor.mail_amazon_packages') }} ➤ {{
                      states('sensor.mail_amazon_packages_delivered') }}
                    icon: mdi:alpha-a-box-outline
                    layout: vertical
                    icon_color: >
                      {% if states('sensor.mail_amazon_packages_delivered')|int
                      > 0 %}

                      green {% elif states('sensor.mail_amazon_packages')|int >
                      0 %}

                      yellow {% elif states('sensor.mail_amazon_packages')|int
                      == 0 %}

                      white {% else %} red {% endif %}
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Lights
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #79D;
                    border-right: 28px solid #79D;
                    border-left: 18px solid #79D;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #79D;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-light-card
                    entity: light.office_2
                    name: Ready Room
                    show_brightness_control: false
                    collapsible_controls: true
                  - type: custom:mushroom-light-card
                    entity: light.rack
                    name: Compute Core
                    show_brightness_control: false
                    collapsible_controls: true
                  - type: custom:mushroom-light-card
                    entity: light.elgato_key_light
                    name: Scanner
                    show_brightness_control: false
                    collapsible_controls: true
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-light-card
                    entity: light.stairway_lights
                    name: Lift
                    show_brightness_control: true
                    collapsible_controls: true
                  - type: custom:mushroom-light-card
                    entity: light.kitty_loft
                    name: Landing
                    show_brightness_control: true
                    collapsible_controls: true
                  - type: custom:mushroom-vacuum-card
                    entity: vacuum.catbug
                    name: Catbug
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Life Support
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #455580;
                    border-right: 28px solid #455580;
                    border-left: 18px solid #455580;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #455580;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    name: Engineering
                    tap_action:
                      action: more-info
                    entity: sensor.upstairs_temperature
                  - type: custom:mushroom-entity-card
                    entity: sensor.kids_room_temperature
                    name: Cargo
                    tap_action:
                      action: more-info
                  - type: custom:mushroom-entity-card
                    entity: sensor.guest_room_temperature
                    name: Guest
                    tap_action:
                      action: more-info
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    entity: sensor.temp_acurite_606tx_a
                    name: Compute Core
                    tap_action:
                      action: more-info
                  - type: custom:mushroom-entity-card
                    entity: sensor.office_temperature
                    name: Ready Room
                    tap_action:
                      action: more-info
                  - type: custom:mushroom-fan-card
                    entity: fan.office_ceiling_fan
                    name: Ready Room
                    icon_animation: true
          - type: custom:button-card
            name: Holodecks
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 10px 10px 10px 10px;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #6CF;
                border-right: 28px solid #6CF;
                border-left: 18px solid #6CF;
                border-top: 0;
                border-bottom: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #6CF;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                overflow: hidden;
                right: 0;
                bottom: 1.5rem;

              }
          - type: horizontal-stack
            cards:
              - type: conditional
                conditions:
                  - entity: media_player.bedroom
                    state_not: playing
                card:
                  type: custom:mushroom-media-player-card
                  entity: media_player.office_tv_2
                  icon: mdi:television
              - type: conditional
                conditions:
                  - entity: media_player.bedroom
                    state: playing
                card:
                  type: custom:mushroom-media-player-card
                  entity: media_player.bedroom
                  use_media_info: true
        view_layout:
          grid-area: sidebar2
      - type: vertical-stack
        cards:
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 35px 0 0 0 !important;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                    border-top-left-radius: 3.75rem;
                  }
                  ha-card.button-card-main::after {
                    right: 0;
                    bottom: 1.5rem;
                    border-top-left-radius: 35px;
                  }
                  ha-card.button-card-main div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    style: |
                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 278px;
                        width: 5.9rem;
                        min-width: 5.9rem;
                        min-height: 80px;
                        background-color: #58e;
                        border-right: 28px solid #58e;
                        border-left: 18px solid #58e;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #58e;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 80px;
                        text-transform: uppercase;
                        color: #111;
                      }
                  - type: custom:button-card
                    style: |

                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 278px;
                        width: 6rem;
                        min-width: 6.1rem;
                        min-height: 80px;
                        background-image: linear-gradient(to right, rgb(85, 136, 238) 50%, rgb(28, 28, 28) 50%);
                        border: #111;
                      }
                      ha-card div.vertical.no-icon.no-label.no-state {
                        background: #111;
                        border-radius: 30px 0 0 0;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #111;
                        color: #FFF;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 40px;
                        text-transform: uppercase;
                        color: #FFF;
                      }
                      ha-card.button-card-main {
                        padding: 0 0 !important;
                      }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #79D;
                    border-right: 28px solid #79D;
                    border-left: 18px solid #79D;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #455580;
                    border-right: 28px solid #455580;
                    border-left: 18px solid #455580;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #6CF;
                    border-right: 28px solid #6CF;
                    border-left: 18px solid #6CF;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
        view_layout:
          grid-area: sidebar
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 50px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |

                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-image: linear-gradient(to right top, rgb(85, 136, 238) 50%, rgb(0, 0, 0) 50%);
                    border: #111;
                  }
                  ha-card div.vertical.no-icon.no-label.no-state {
                    background: #111;
                    border-radius: 0 0 0 30px;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:button-card
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 35px !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #58e;
                border-right: 28px solid #58e;
                border-left: 18px solid #58e;
                border-bottom-left-radius: 3.75rem;
              }
              ha-card.button-card-main::after {
                right: 0;
                bottom: 1.5rem;
                border-bottom-left-radius: 35px;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #58e;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-align: right;
                text-transform: uppercase;
                color: #111;
              }
        view_layout:
          grid-area: time
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[ 
                var date = new Date().getDate();
                var year = new Date().getYear();
                var year = year - 100;
                var numMonth = new Date().getMonth();
                var month;
                switch(numMonth) {
                  case 0:
                    month = 'Jan';
                    break;
                  case 1:
                    month = 'Feb';
                    break;
                  case 2:
                    month = 'Mar';
                    break;
                  case 3:
                    month = 'Apr';
                    break;
                  case 4:
                    month = 'May';
                    break;
                  case 5:
                    month = 'Jun';
                    break;
                  case 6:
                    month = 'Jul';
                    break;
                  case 7:
                    month = 'Aug';
                    break;
                  case 8:
                    month = 'Sep';
                    break;
                  case 9:
                    month = 'Oct';
                    break;
                  case 10:
                    month = 'Nov';
                    break;
                  case 11:
                    month = 'Dec';
                    break;
                }

                var time = new Date().toLocaleTimeString('en-US',{ hour12: false, hour: "2-digit", minute: "2-digit"});

                return `Stardate: ${states['sensor.stardate'].state} &#149; ${date} ${month} ${year} &#149; ${time}`
              ]]]
            layout: vertical
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var condition = states['weather.kwdr_daynight'].state;
                var output;
                switch(condition) {
                  case 'sunny':
                    output = 'Sunny';
                    break;
                  case 'clear':
                    output = 'Clear';
                    break;
                  case 'mostly-sunny':
                    output = 'Mostly Sunny';
                    break;
                  case 'partly-cloudy':
                    output = 'Partly Cloudy';
                    break;
                  case 'cloudy':
                    output = 'Cloudy';
                    break;
                  case 'light-rain':
                    output = 'Light Rain';
                    break;
                  case 'wind':
                    output = 'Windy';
                    break;
                  case 'windy':
                    output = 'Windy';
                    break;
                  case 'dust':
                    output = 'Dusty';
                    break;
                  case 'fog':
                    output = 'Foggy';
                    break;
                  case 'showers':
                    output = 'Showers';
                    break;
                  case 'rain':
                    output = 'Rain';
                    break;
                  case 'rainy':
                    output = 'Rainy';
                    break;
                  case 'storm':
                    output = 'Stormy';
                    break;
                  case 'stormy':
                    output = 'Stormy';
                    break;
                  case 'light-showers':
                    output = 'Light Showers';
                    break;
                  case 'light-shower':
                    output = 'Light Showers';
                    break;
                  case 'heavy-showers':
                    output = 'Heavy Showers';
                    break;
                  case 'heavy-shower':
                    output = 'Heavy Showers';
                    break;
                  case 'clear-day':
                    output = 'Clear';
                    break;
                  case 'clear-night':
                    output = 'Clear';
                    break;
                  case 'partly-cloudy-day':
                    output = 'Partly Cloudy';
                    break;
                  case 'partly-cloudy-night':
                    output = 'Partly Cloudy';
                    break;
                  case 'hail':
                    output = 'Hailing';
                    break;
                  case 'lightning':
                    output = 'Lightning';
                    break;
                  case 'thunderstorm':
                    output = 'Thunderstorms';
                    break;
                  default:
                    output = states['weather.kwdr_daynight'].state;
                    break;
                  }

                  return `Conditions: ${output}`;
              ]]]
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #8FF;
                border-right: 28px solid #8FF;
                border-left: 18px solid #8FF;
              }
              ha-card:after {
                right: 0;
                bottom: 1.5rem;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #8FF;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
        view_layout:
          grid-area: weather
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[
                  return `${states['sensor.template_header_weather'].state}`
              ]]]
            layout: vertical
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var forecast;
                var current;

                var greeting = states['sensor.template_header_greet'].state;
                if ( states['weather.kwdr_daynight'].attributes.forecast === undefined ) {
                  forecast = "";
                  current = " Current: " + states['sensor.outside_temp'].state + states['sensor.outside_temp'].attributes.unit_of_measurement
                }
                else {
                  var daytime = states['weather.kwdr_daynight'].attributes.forecast[0].daytime;
                  if (daytime) {
                    forecast = "Hi: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  else
                  {
                    forecast = "Lo: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  
                  current = " Current: " + states['weather.kwdr_daynight'].attributes.temperature + states['weather.kwdr_daynight'].attributes.temperature_unit;
                }
                return greeting + " | " + forecast + " | " + current;
              ]]]
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0 !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card.button-card-main::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
        view_layout:
          grid-area: greeting
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Deck B
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";

                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: picture-elements
            image: /local/images/floorplan/theme/space/Upper-Floor/base.png
            style: |
              ha-card {
                background: #1C1C1C;
                mix-blend-mode: screen;
              }
              config-template-card {
                position: absolute;
                pointer-events: none;
                mix-blend-mode: screen;
                transform: translate(0,0) !important;
                top: 0;
                left: 0;
                bottom: 0;
                right: 0;
              }
              hui-image-element {
                position: absolute;
                pointer-events: none;
                mix-blend-mode: screen;
                transform: translate(0,0) !important;
                top: 0;
                left: 0;
                bottom: 0;
                right: 0;
              }
            elements:
              - type: custom:config-template-card
                variables:
                  - states['sensor.sunlight_pct'].state
                  - states['sun.sun'].state
                entities:
                  - sun.sun
                  - sensor.sunlight_opacity
                element:
                  type: image
                  image: /local/images/floorplan/theme/space/Upper-Floor/base-day.png
                style:
                  opacity: '${ vars[1] === ''above_horizon'' ? vars[0]/100 : ''0%'' }'
              - type: custom:config-template-card
                variables:
                  - states['light.office_ceiling_fan'].attributes.brightness
                  - states['light.office_ceiling_fan'].state
                  - states['light.office_ceiling_fan'].attributes.hs_color
                entities:
                  - light.office_ceiling_fan
                element:
                  type: image
                  image: >-
                    /local/images/floorplan/theme/space/Upper-Floor/lit-office-0.png
                style:
                  opacity: '${ vars[1] === ''on'' ? vars[0]/255 : ''0%'' }'
                  filter: >-
                    ${ "hue-rotate(" + (vars[2] ? vars[2][0] : 0) + "deg)
                    saturate(" + (vars[2] ? vars[2][1] : 100)+ "%)"}
              - type: custom:config-template-card
                variables:
                  - states['light.rack'].attributes.brightness
                  - states['light.rack'].state
                  - states['light.rack'].attributes.hs_color
                entities:
                  - light.rack
                element:
                  type: image
                  image: >-
                    /local/images/floorplan/theme/space/Upper-Floor/lit-office-1.png
                style:
                  opacity: '${ vars[1] === ''on'' ? vars[0]/255 : ''0%'' }'
                  filter: >-
                    ${ "hue-rotate(" + (vars[2] ? vars[2][0] : 0) + "deg)
                    saturate(" + (vars[2] ? vars[2][1] : 100)+ "%)"}
              - type: custom:config-template-card
                variables:
                  - states['light.elgato_key_light'].attributes.brightness
                  - states['light.elgato_key_light'].state
                  - states['light.elgato_key_light'].attributes.hs_color
                entities:
                  - light.elgato_key_light
                element:
                  type: image
                  image: >-
                    /local/images/floorplan/theme/space/Upper-Floor/lit-office-2.png
                style:
                  opacity: '${ vars[1] === ''on'' ? vars[0]/25 : ''0%'' }'
                  filter: >-
                    ${ "hue-rotate(" + (vars[2] ? vars[2][0] : 0) + "deg)
                    saturate(" + (vars[2] ? vars[2][1] : 100)+ "%)"}
              - type: image
                entity: light.back_porch
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Upper-Floor/lit-back-porch.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.front_sconces
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Upper-Floor/lit-garage-scones.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.stairway_lights
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Upper-Floor/lit-stairs.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.kitty_loft
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Upper-Floor/lit-catloft.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.upstairs_hall
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Upper-Floor/lit-hallway.png
                  'off': /local/images/transparent.png
              - type: image
                entity: light.guest_bathroom
                tap_action:
                  action: none
                state_image:
                  'on': >-
                    /local/images/floorplan/theme/space/Upper-Floor/lit-powderroom.png
                  'off': /local/images/transparent.png
              - type: image
                entity: media_player.office_tv
                tap_action:
                  action: none
                state_image:
                  playing: >-
                    /local/images/floorplan/theme/space/Upper-Floor/lit-office-tv.png
                  unavailable: /local/images/transparent.png
                  'off': /local/images/transparent.png
              - type: state-icon
                entity: fan.office_ceiling_fan
                icon: mdi:fan
                tap_action:
                  action: none
                style:
                  top: 47%
                  left: 16%
                  transform: translate(-50%,-50%) scale(2,2)
                card_mod:
                  style:
                    state-badge:
                      $:
                        ha-state-icon:
                          $:
                            ha-icon:
                              $: |
                                ha-svg-icon {
                                  color: {{ '#FDD835' if states('fan.office_ceiling_fan') == 'on' else '#44739E'}};
                                  animation:
                                    {% if states('fan.office_ceiling_fan') == 'on' -%}
                                      rotation 2s linear infinite;
                                    {% else %} null
                                    {% endif %}
                                }
                                @keyframes rotation {
                                  0% {
                                    transform: rotate(0deg);
                                  }
                                  100% {
                                    transform: rotate(360deg);
                                  }
                                }
              - type: state-icon
                entity: weather.kwdr_daynight
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                style:
                  top: 4%
                  left: 4%
                  transform: translate(0%,0%) scale(2.5,2.5)
              - type: state-icon
                entity: vacuum.philoctetes
                style:
                  top: 26%
                  left: 2%
                  transform: translate(0%,0%) scale(1.5,1.5)
              - type: image
                entity: vacuum.catbug
                state_image:
                  cleaning: /local/images/roomba.gif
                  docked: /local/images/transparent.png
                  error: /local/images/transparent.png
                  idle: /local/images/transparent.png
                  paused: /local/images/transparent.png
                  returning: /local/images/roomba.gif
                  unavailable: /local/images/transparent.png
                  unknown: /local/images/transparent.png
                style:
                  transform: scale(.1)
                  mix-blend-mode: unset
                  top: 78%
                  left: 21%
                  height: 10%
                  width: 10%
              - type: state-label
                entity: sensor.sunlight_pct
                prefix: 'Opacity: '
                style:
                  transform: translate(0%,0%)
                  top: 94%
                  left: 1px
        view_layout:
          grid-area: main
  - theme: Backend-selected
    title: Weather
    path: weather
    icon: mdi:weather-night-partly-cloudy
    type: custom:grid-layout
    layout:
      grid-template-columns: 8% 23% minmax(auto,38%) 25%
      grid-template-rows: 10% minmax(auto,80%) 10%
      grid-template-areas: |
        "time weather greeting greeting"
        "sidebar sidebar2 main aux"
        "footer footer footer footer"
      mediaquery:
        '(max-width: 800px)':
          grid-template-columns: 100%
          grid-template-rows: auto
          grid-template-areas: |
            "weather"
            "greeting"
            "main"
            "aux"
            "sidebar2"
            "footer"
    visible:
      - user: 829c75b162794808a699871056da2b93
    badges: []
    cards:
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 50px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |

                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-image: linear-gradient(to right top, rgb(85, 136, 238) 50%, rgb(0, 0, 0) 50%);
                    border: #111;
                  }
                  ha-card div.vertical.no-icon.no-label.no-state {
                    background: #111;
                    border-radius: 0 0 0 30px;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:button-card
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 35px !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #58e;
                border-right: 28px solid #58e;
                border-left: 18px solid #58e;
                border-bottom-left-radius: 3.75rem;
              }
              ha-card.button-card-main::after {
                right: 0;
                bottom: 1.5rem;
                border-bottom-left-radius: 35px;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #58e;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-align: right;
                text-transform: uppercase;
                color: #111;
              }
        view_layout:
          grid-area: time
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[ 
                var date = new Date().getDate();
                var year = new Date().getYear();
                var year = year - 100;
                var numMonth = new Date().getMonth();
                var month;
                switch(numMonth) {
                  case 0:
                    month = 'Jan';
                    break;
                  case 1:
                    month = 'Feb';
                    break;
                  case 2:
                    month = 'Mar';
                    break;
                  case 3:
                    month = 'Apr';
                    break;
                  case 4:
                    month = 'May';
                    break;
                  case 5:
                    month = 'Jun';
                    break;
                  case 6:
                    month = 'Jul';
                    break;
                  case 7:
                    month = 'Aug';
                    break;
                  case 8:
                    month = 'Sep';
                    break;
                  case 9:
                    month = 'Oct';
                    break;
                  case 10:
                    month = 'Nov';
                    break;
                  case 11:
                    month = 'Dec';
                    break;
                }

                var time = new Date().toLocaleTimeString('en-US',{ hour12: false, hour: "2-digit", minute: "2-digit"});

                return `Stardate: ${states['sensor.stardate'].state} &#149; ${date} ${month} ${year} &#149; ${time}`
              ]]]
            layout: vertical
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var condition = states['weather.kwdr_daynight'].state;
                var output;
                switch(condition) {
                  case 'sunny':
                    output = 'Sunny';
                    break;
                  case 'clear':
                    output = 'Clear';
                    break;
                  case 'mostly-sunny':
                    output = 'Mostly Sunny';
                    break;
                  case 'partly-cloudy':
                    output = 'Partly Cloudy';
                    break;
                  case 'cloudy':
                    output = 'Cloudy';
                    break;
                  case 'light-rain':
                    output = 'Light Rain';
                    break;
                  case 'wind':
                    output = 'Windy';
                    break;
                  case 'windy':
                    output = 'Windy';
                    break;
                  case 'dust':
                    output = 'Dusty';
                    break;
                  case 'fog':
                    output = 'Foggy';
                    break;
                  case 'showers':
                    output = 'Showers';
                    break;
                  case 'rain':
                    output = 'Rain';
                    break;
                  case 'rainy':
                    output = 'Rainy';
                    break;
                  case 'storm':
                    output = 'Stormy';
                    break;
                  case 'stormy':
                    output = 'Stormy';
                    break;
                  case 'light-showers':
                    output = 'Light Showers';
                    break;
                  case 'light-shower':
                    output = 'Light Showers';
                    break;
                  case 'heavy-showers':
                    output = 'Heavy Showers';
                    break;
                  case 'heavy-shower':
                    output = 'Heavy Showers';
                    break;
                  case 'clear-day':
                    output = 'Clear';
                    break;
                  case 'clear-night':
                    output = 'Clear';
                    break;
                  case 'partly-cloudy-day':
                    output = 'Partly Cloudy';
                    break;
                  case 'partly-cloudy-night':
                    output = 'Partly Cloudy';
                    break;
                  case 'hail':
                    output = 'Hailing';
                    break;
                  case 'lightning':
                    output = 'Lightning';
                    break;
                  case 'thunderstorm':
                    output = 'Thunderstorms';
                    break;
                  default:
                    output = states['weather.kwdr_daynight'].state;
                    break;
                  }

                  return `Conditions: ${output}`;
              ]]]
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #8FF;
                border-right: 28px solid #8FF;
                border-left: 18px solid #8FF;
              }
              ha-card:after {
                right: 0;
                bottom: 1.5rem;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #8FF;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
        view_layout:
          grid-area: weather
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[
                  return `${states['sensor.template_header_weather'].state}`
              ]]]
            layout: vertical
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var forecast;
                var current;

                var greeting = states['sensor.template_header_greet'].state;
                if ( states['weather.kwdr_daynight'].attributes.forecast === undefined ) {
                  forecast = "";
                  current = " Current: " + states['sensor.outside_temp'].state + states['sensor.outside_temp'].attributes.unit_of_measurement
                }
                else {
                  var daytime = states['weather.kwdr_daynight'].attributes.forecast[0].daytime;
                  if (daytime) {
                    forecast = "Hi: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  else
                  {
                    forecast = "Lo: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  
                  current = " Current: " + states['weather.kwdr_daynight'].attributes.temperature + states['weather.kwdr_daynight'].attributes.temperature_unit;
                }
                return greeting + " | " + forecast + " | " + current;
              ]]]
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0 !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card.button-card-main::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
        view_layout:
          grid-area: greeting
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Forecast Modeling
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - show_current: false
            show_forecast: true
            type: weather-forecast
            entity: weather.kwdr_daynight
            theme: ios-dark-mode
            secondary_info_attribute: pressure
            card_mod:
              style: |
                ha-card {
                  height:215px !important;
                }
          - camera_view: auto
            type: picture-glance
            image: https://511ga.org/map/Cctv/JKSN-CAM-013--1
            entities:
              - entity: sensor.waze_travel_time
              - entity: sensor.jennifer_time_to_home
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: >+
                  {% set suffix='' %}

                  {% set hour =
                  as_timestamp(state_attr('weather.kwdr_daynight','forecast').1.datetime)
                  | timestamp_custom('%H') %} 

                  {% if hour | int >= 18 %}
                    {% set suffix="night" %}
                  {% endif %}


                  {{
                  as_timestamp(state_attr('weather.kwdr_daynight','forecast').1.datetime)
                  | timestamp_custom('%A') }} {{suffix}}

                secondary: >-
                  {{state_attr('weather.kwdr_daynight','forecast').1.detailed_description}}
                icon: >-
                  {% if
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'sunny' %} mdi:weather-sunny

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'clear' and
                  not(states.weather.kwdr_daynight.attributes.forecast[3].daytime)
                  %} mdi:moon-waning-crescent

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'clear' and
                  states.weather.kwdr_daynight.attributes.forecast[3].daytime %}
                  mdi:weather-sunny

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'mostly-sunny' %} mdi:weather-sunny

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'partly-cloudy' and
                  states.weather.kwdr_daynight.attributes.forecast[3].daytime %}
                  mdi:weather-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'partly-cloudy' and
                  not(states.weather.kwdr_daynight.attributes.forecast[3].daytime)%}
                  mdi:weather-night-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'partlycloudy' and
                  states.weather.kwdr_daynight.attributes.forecast[3].daytime %}
                  mdi:weather-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'partlycloudy' and
                  not(states.weather.kwdr_daynight.attributes.forecast[3].daytime)%}
                  mdi:weather-night-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'cloudy' %} mdi:weather-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'light-rain' %} mdi:weather-partly-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'wind' %} mdi:weather-windy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'windy' %} mdi:weather-windy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'dust' %} mdi:weather-dust

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'fog' %} mdi:weather-fog

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'showers' %} mdi:weather-partly-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'rain' %} mdi:weather-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'rainy' %} mdi:weather-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'storm' %} mdi:weather-lightning-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'stormy' %} mdi:weather-lightning-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'light-showers' %} mdi:weather-partly-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'light-shower' %} mdi:weather-partly-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'heavy-showers' %} mdi:weather-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'heavy-shower' %} mdi:weather-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'clear-day' %} mdi:weather-sunny

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'clear-night' %} mdi:moon-waning-crescent

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'partly-cloudy-day' %} mdi:weather-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'partly-cloudy-night' %}
                  mdi:weather-night-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'hail' %} mdi:weather-hail

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'lightning' %} mdi:weather-lightning

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'thunderstorm' %} mdi:weather-lightning-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[1].condition
                  | string == 'lightning-rainy' %} mdi:weather-lightning-rainy

                  {% else %} mdi:exclamation-thick

                  {% endif %}
                fill_container: false
                multiline_secondary: true
                icon_color: >-
                  {% if
                  states.weather.kwdr_daynight.attributes.forecast[1].daytime %}
                    yellow
                  {% else %}
                    blue
                  {% endif %}
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: >+
                  {% set suffix='' %}

                  {% set hour =
                  as_timestamp(state_attr('weather.kwdr_daynight','forecast').2.datetime)
                  | timestamp_custom('%H') %} 

                  {% if hour | int >= 18 %}
                    {% set suffix="night" %}
                  {% endif %}


                  {{
                  as_timestamp(state_attr('weather.kwdr_daynight','forecast').2.datetime)
                  | timestamp_custom('%A') }} {{suffix}}

                secondary: >-
                  {{state_attr('weather.kwdr_daynight','forecast').2.detailed_description}}
                icon: >-
                  {% if
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'sunny' %} mdi:weather-sunny

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'clear' and
                  not(states.weather.kwdr_daynight.attributes.forecast[3].daytime)
                  %} mdi:moon-waning-crescent

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'clear' and
                  states.weather.kwdr_daynight.attributes.forecast[3].daytime %}
                  mdi:weather-sunny

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'mostly-sunny' %} mdi:weather-sunny

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'partly-cloudy' and
                  states.weather.kwdr_daynight.attributes.forecast[3].daytime %}
                  mdi:weather-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'partly-cloudy' and
                  not(states.weather.kwdr_daynight.attributes.forecast[3].daytime)%}
                  mdi:weather-night-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'partlycloudy' and
                  states.weather.kwdr_daynight.attributes.forecast[3].daytime %}
                  mdi:weather-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'partlycloudy' and
                  not(states.weather.kwdr_daynight.attributes.forecast[3].daytime)%}
                  mdi:weather-night-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'cloudy' %} mdi:weather-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'light-rain' %} mdi:weather-partly-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'wind' %} mdi:weather-windy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'windy' %} mdi:weather-windy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'dust' %} mdi:weather-dust

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'fog' %} mdi:weather-fog

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'showers' %} mdi:weather-partly-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'rain' %} mdi:weather-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'rainy' %} mdi:weather-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'storm' %} mdi:weather-lightning-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'stormy' %} mdi:weather-lightning-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'light-showers' %} mdi:weather-partly-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'light-shower' %} mdi:weather-partly-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'heavy-showers' %} mdi:weather-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'heavy-shower' %} mdi:weather-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'clear-day' %} mdi:weather-sunny

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'clear-night' %} mdi:moon-waning-crescent

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'partly-cloudy-day' %} mdi:weather-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'partly-cloudy-night' %}
                  mdi:weather-night-partly-cloudy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'hail' %} mdi:weather-hail

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'lightning' %} mdi:weather-lightning

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'thunderstorm' %} mdi:weather-lightning-rainy

                  {% elif
                  states.weather.kwdr_daynight.attributes.forecast[2].condition
                  | string == 'lightning-rainy' %} mdi:weather-lightning-rainy

                  {% else %} mdi:exclamation-thick

                  {% endif %}
                fill_container: false
                multiline_secondary: true
                icon_color: >-
                  {% if
                  states.weather.kwdr_daynight.attributes.forecast[2].daytime %}
                    yellow
                  {% else %}
                    blue
                  {% endif %}
          - type: custom:mushroom-template-card
            primary: >+
              {% set suffix='' %}

              {% set hour =
              as_timestamp(state_attr('weather.kwdr_daynight','forecast').3.datetime)
              | timestamp_custom('%H') %} 

              {% if hour | int >= 18 %}
                {% set suffix="night" %}
              {% endif %}


              {{
              as_timestamp(state_attr('weather.kwdr_daynight','forecast').3.datetime)
              | timestamp_custom('%A') }} {{suffix}}

            secondary: >-
              {{state_attr('weather.kwdr_daynight','forecast').3.detailed_description}}
            icon: >
              {% if
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'sunny' %} mdi:weather-sunny

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'clear' and
              not(states.weather.kwdr_daynight.attributes.forecast[3].daytime)
              %} mdi:moon-waning-crescent

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'clear' and
              states.weather.kwdr_daynight.attributes.forecast[3].daytime %}
              mdi:weather-sunny

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'mostly-sunny' %} mdi:weather-sunny

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'partly-cloudy' and
              states.weather.kwdr_daynight.attributes.forecast[3].daytime %}
              mdi:weather-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'partly-cloudy' and
              not(states.weather.kwdr_daynight.attributes.forecast[3].daytime)%}
              mdi:weather-night-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'partlycloudy' and
              states.weather.kwdr_daynight.attributes.forecast[3].daytime %}
              mdi:weather-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'partlycloudy' and
              not(states.weather.kwdr_daynight.attributes.forecast[3].daytime)%}
              mdi:weather-night-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'cloudy' %} mdi:weather-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'light-rain' %} mdi:weather-partly-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'wind' %} mdi:weather-windy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'windy' %} mdi:weather-windy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'dust' %} mdi:weather-dust

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'fog' %} mdi:weather-fog

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'showers' %} mdi:weather-partly-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'rain' %} mdi:weather-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'rainy' %} mdi:weather-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'storm' %} mdi:weather-lightning-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'stormy' %} mdi:weather-lightning-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'light-showers' %} mdi:weather-partly-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'light-shower' %} mdi:weather-partly-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'heavy-showers' %} mdi:weather-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'heavy-shower' %} mdi:weather-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'clear-day' %} mdi:weather-sunny

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'clear-night' %} mdi:moon-waning-crescent

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'partly-cloudy-day' %} mdi:weather-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'partly-cloudy-night' %} mdi:weather-night-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'hail' %} mdi:weather-hail

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'lightning' %} mdi:weather-lightning

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'thunderstorm' %} mdi:weather-lightning-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[3].condition |
              string == 'lightning-rainy' %} mdi:weather-lightning-rainy

              {% else %} mdi:exclamation-thick

              {% endif %}
            fill_container: false
            multiline_secondary: true
            icon_color: >-
              {% if states.weather.kwdr_daynight.attributes.forecast[3].daytime
              %}
                yellow
              {% else %}
                blue
              {% endif %}
          - type: custom:mushroom-template-card
            primary: >+
              {% set suffix='' %}

              {% set hour =
              as_timestamp(state_attr('weather.kwdr_daynight','forecast').4.datetime)
              | timestamp_custom('%H') %} 

              {% if hour | int >= 18 %}
                {% set suffix="night" %}
              {% endif %}


              {{
              as_timestamp(state_attr('weather.kwdr_daynight','forecast').4.datetime)
              | timestamp_custom('%A') }} {{suffix}}

            secondary: >-
              {{state_attr('weather.kwdr_daynight','forecast').4.detailed_description}}
            icon: >
              {% if
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'sunny' %} mdi:weather-sunny

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'clear' and
              not(states.weather.kwdr_daynight.attributes.forecast[4].daytime)
              %} mdi:moon-waning-crescent

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'clear' and
              states.weather.kwdr_daynight.attributes.forecast[4].daytime %}
              mdi:weather-sunny

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'mostly-sunny' %} mdi:weather-sunny

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'partly-cloudy' and
              states.weather.kwdr_daynight.attributes.forecast[4].daytime %}
              mdi:weather-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'partly-cloudy' and
              not(states.weather.kwdr_daynight.attributes.forecast[4].daytime)%}
              mdi:weather-night-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'partlycloudy' and
              states.weather.kwdr_daynight.attributes.forecast[4].daytime %}
              mdi:weather-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'partlycloudy' and
              not(states.weather.kwdr_daynight.attributes.forecast[4].daytime)%}
              mdi:weather-night-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'cloudy' %} mdi:weather-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'light-rain' %} mdi:weather-partly-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'wind' %} mdi:weather-windy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'windy' %} mdi:weather-windy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'dust' %} mdi:weather-dust

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'fog' %} mdi:weather-fog

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'showers' %} mdi:weather-partly-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'rain' %} mdi:weather-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'rainy' %} mdi:weather-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'storm' %} mdi:weather-lightning-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'stormy' %} mdi:weather-lightning-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'light-showers' %} mdi:weather-partly-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'light-shower' %} mdi:weather-partly-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'heavy-showers' %} mdi:weather-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'heavy-shower' %} mdi:weather-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'clear-day' %} mdi:weather-sunny

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'clear-night' %} mdi:moon-waning-crescent

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'partly-cloudy-day' %} mdi:weather-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'partly-cloudy-night' %} mdi:weather-night-partly-cloudy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'hail' %} mdi:weather-hail

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'lightning' %} mdi:weather-lightning

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'thunderstorm' %} mdi:weather-lightning-rainy

              {% elif
              states.weather.kwdr_daynight.attributes.forecast[4].condition |
              string == 'lightning-rainy' %} mdi:weather-lightning-rainy

              {% else %} mdi:exclamation-thick

              {% endif %}
            fill_container: false
            multiline_secondary: true
            icon_color: >-
              {% if states.weather.kwdr_daynight.attributes.forecast[4].daytime
              %}
                yellow
              {% else %}
                blue
              {% endif %}
        view_layout:
          grid-area: aux
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Sensors
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";

                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:weather-radar-card
            card_title: Radar
            data_source: RainViewer-Original
            map_style: Voyager
            zoom_level: 8
            center_latitude: 34.0720728
            center_longitude: -83.6917093
            marker_latitude: 34.0720728
            marker_longitude: -83.6917093
            show_marker: true
            static_map: false
            show_scale: true
            show_range: true
            show_playback: true
            show_zoom: true
            square_map: true
            show_recenter: true
            frame_count: 5
            frame_delay: 1000
            restart_delay: 5000
            extra_labels: true
        view_layout:
          grid-area: main
      - type: vertical-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Logistics
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0 0 0 0;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #8FF;
                    border-right: 28px solid #8FF;
                    border-left: 18px solid #8FF;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #8FF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    card_mod:
                      style: |
                        ha-card {
                          height: 500px;
                        }
                    entity: sensor.mail_state
                    primary: |
                      USPS Mail
                    secondary: |-

                      {% if states('sensor.mail_state')|int == 0 %}
                        No Mail Today
                      {% elif states('sensor.mail_state')|int == 1 %} 
                        No Mail Yet
                        Check Back Later
                      {% elif states('sensor.mail_state')|int == 2 %} 
                        Mail Delivered
                        {{ states.input_datetime.mail_delivered.state }}
                      {% elif states('sensor.mail_state')|int == 3 %} 
                        Mail Picked Up
                        More Words Here Eventually
                      {% else %} 
                        Error
                        I have no idea anymore...
                      {% endif %}
                    icon: >
                      {% if states('sensor.mail_state')|int == 0 %}
                      mdi:email-off-outline

                      {% elif states('sensor.mail_state')|int == 1 %}
                      mdi:mailbox

                      {% elif states('sensor.mail_state')|int == 2 %}
                      mdi:mailbox-open

                      {% elif states('sensor.mail_state')|int == 3 %}
                      mdi:mailbox-open-up

                      {% else %} mdi:exclamation

                      {% endif %}
                    icon_color: |-
                      {% if states('sensor.mail_state')|int == 0 %} white
                      {% elif states('sensor.mail_state')|int == 1 %} black 
                      {% elif states('sensor.mail_state')|int == 2 %} red
                      {% elif states('sensor.mail_state')|int == 3 %} green
                      {% else %} orange
                      {% endif %}
                    layout: vertical
                    multiline_secondary: true
                  - type: vertical-stack
                    cards:
                      - type: custom:mushroom-template-card
                        primary: USPS Mail
                        secondary: |-
                          {% if states('sensor.mail_usps_mail')|int > 0 %} 
                          {{states('sensor.mail_usps_mail') }} Letters 
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          {% else %} ERROR
                          {% endif %}
                        icon: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          mdi:mailbox-open
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          mdi:mailbox
                          {% else %}
                          mdi:exclamation
                          {% endif %}
                        icon_color: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          green
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          white
                          {% else %}
                          red
                          {% endif %}
                      - type: custom:mushroom-template-card
                        primary: Packages
                        secondary: |
                          {{ states('sensor.mail_packages_in_transit') }} ➤ {{
                          states('sensor.mail_packages_delivered') }}
                        icon: mdi:package
                        icon_color: >
                          {% if states('sensor.mail_packages_delivered')|int > 0
                          %}

                          green

                          {% elif states('sensor.mail_packages_in_transit')|int
                          > 0 %}

                          yellow

                          {% elif states('sensor.mail_packages_in_transit')|int
                          == 0 %}

                          white

                          {% else %}

                          red

                          {% endif %}
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    primary: USPS
                    secondary: |
                      {{ states('sensor.mail_usps_packages') }} ➤ {{
                      states('sensor.mail_usps_delivering') }} ➤ {{
                      states('sensor.mail_usps_delivered') }}
                    icon: mdi:package-variant-closed
                    icon_color: |
                      {% if states('sensor.mail_usps_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_usps_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_usps_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_usps_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: UPS
                    secondary: |
                      {{ states('sensor.mail_ups_packages') }} ➤ {{
                      states('sensor.mail_ups_delivering') }} ➤ {{
                      states('sensor.mail_ups_delivered') }}
                    icon: mdi:alpha-u-box-outline
                    icon_color: |
                      {% if states('sensor.mail_ups_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_ups_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_ups_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_ups_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: Fedex
                    secondary: |
                      {{ states('sensor.mail_fedex_packages') }} ➤ {{
                      states('sensor.mail_fedex_delivering') }} ➤ {{
                      states('sensor.mail_fedex_delivered') }}
                    icon: mdi:alpha-f-box-outline
                    layout: vertical
                    icon_color: |
                      {% if states('sensor.mail_fedex_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_fedex_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_fedex_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_fedex_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                  - type: custom:mushroom-template-card
                    primary: Amazon
                    secondary: |
                      {{ states('sensor.mail_amazon_packages') }} ➤ {{
                      states('sensor.mail_amazon_packages_delivered') }}
                    icon: mdi:alpha-a-box-outline
                    layout: vertical
                    icon_color: >
                      {% if states('sensor.mail_amazon_packages_delivered')|int
                      > 0 %}

                      green {% elif states('sensor.mail_amazon_packages')|int >
                      0 %}

                      yellow {% elif states('sensor.mail_amazon_packages')|int
                      == 0 %}

                      white {% else %} red {% endif %}
          - type: custom:button-card
            name: Conditions
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 10px 10px 10px 10px;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: 0;
                border-bottom: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                overflow: hidden;
                right: 0;
                bottom: 1.5rem;

              }
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-entity-card
                entity: sensor.outside_temp
                name: Temp
              - type: custom:mushroom-entity-card
                entity: sensor.outdoor_humidity
                name: '%RH'
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                entity: sensor.wind_acurite_5n1_b
                icon: mdi:windsock
                icon_color: |-
                  {% if states.sensor.wind_acurite_5n1_b.state | float < 15 %}
                    blue
                  {% else %}
                    red
                  {% endif %}
                primary: Wind
                secondary: >-
                  {{states.sensor.wind_acurite_5n1_b.state | float }}
                  {{states.sensor.wind_acurite_5n1_b.attributes.unit_of_measurement
                  }} {{states.sensor.wind_dir_acurite_5n1_b.attributes.compass |
                  string }}
                tap_action:
                  action: more-info
              - type: custom:mushroom-entity-card
                entity: sensor.office_pressure
                name: Pressure
          - type: custom:button-card
            name: Storm Conditions
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 10px 10px 10px 10px;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #455580;
                border-right: 28px solid #455580;
                border-left: 18px solid #455580;
                border-top: 0;
                border-bottom: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #455580;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                overflow: hidden;
                right: 0;
                bottom: 1.5rem;

              }
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-entity-card
                entity: sensor.rain_daily
                name: Rain Total (Today)
                icon: mdi:weather-pouring
              - type: custom:mushroom-entity-card
                entity: weather.kwdr_daynight
                name: Conditions
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-entity-card
                entity: sensor.rainfall
                name: Rainfall Rate
              - type: custom:mushroom-entity-card
                entity: sensor.lightning_acurite_6045m
                name: Lightning
          - type: custom:button-card
            name: Solar Timings
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 10px 10px 10px 10px;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #6CF;
                border-right: 28px solid #6CF;
                border-left: 18px solid #6CF;
                border-top: 0;
                border-bottom: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #6CF;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                overflow: hidden;
                right: 0;
                bottom: 1.5rem;

              }
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-entity-card
                entity: sensor.next_sunrise
              - type: custom:mushroom-entity-card
                entity: sensor.next_sunset
        view_layout:
          grid-area: sidebar2
      - type: vertical-stack
        cards:
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 35px 0 0 0 !important;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                    border-top-left-radius: 3.75rem;
                  }
                  ha-card.button-card-main::after {
                    right: 0;
                    bottom: 1.5rem;
                    border-top-left-radius: 35px;
                  }
                  ha-card.button-card-main div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    style: |
                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 277px;
                        width: 5.9rem;
                        min-width: 5.9rem;
                        min-height: 80px;
                        background-color: #58e;
                        border-right: 28px solid #58e;
                        border-left: 18px solid #58e;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #58e;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 80px;
                        text-transform: uppercase;
                        color: #111;
                      }
                  - type: custom:button-card
                    style: |

                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 277px;
                        width: 6rem;
                        min-width: 6.1rem;
                        min-height: 80px;
                        background-image: linear-gradient(to right, rgb(85, 136, 238) 50%, rgb(28, 28, 28) 50%);
                        border: #111;
                      }
                      ha-card div.vertical.no-icon.no-label.no-state {
                        background: #111;
                        border-radius: 30px 0 0 0;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #111;
                        color: #FFF;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 40px;
                        text-transform: uppercase;
                        color: #FFF;
                      }
                      ha-card.button-card-main {
                        padding: 0 0 !important;
                      }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #79D;
                    border-right: 28px solid #79D;
                    border-left: 18px solid #79D;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #455580;
                    border-right: 28px solid #455580;
                    border-left: 18px solid #455580;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #6CF;
                    border-right: 28px solid #6CF;
                    border-left: 18px solid #6CF;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
        view_layout:
          grid-area: sidebar
  - theme: Backend-selected
    title: Rack
    path: rack
    icon: mdi:server
    type: custom:grid-layout
    layout:
      grid-template-columns: 8% 23% minmax(auto,45%) 18%
      grid-template-rows: 10% minmax(auto,80%) 10%
      grid-template-areas: |
        "time weather greeting greeting"
        "sidebar sidebar2 main aux"
        "footer footer footer footer"
      mediaquery:
        '(max-width: 800px)':
          grid-template-columns: 100%
          grid-template-rows: auto
          grid-template-areas: |
            "weather"
            "greeting"
            "main"
            "aux"
            "sidebar2"
            "footer"
    visible:
      - user: 829c75b162794808a699871056da2b93
    badges: []
    cards:
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[ 
                var date = new Date().getDate();
                var year = new Date().getYear();
                var year = year - 100;
                var numMonth = new Date().getMonth();
                var month;
                switch(numMonth) {
                  case 0:
                    month = 'Jan';
                    break;
                  case 1:
                    month = 'Feb';
                    break;
                  case 2:
                    month = 'Mar';
                    break;
                  case 3:
                    month = 'Apr';
                    break;
                  case 4:
                    month = 'May';
                    break;
                  case 5:
                    month = 'Jun';
                    break;
                  case 6:
                    month = 'Jul';
                    break;
                  case 7:
                    month = 'Aug';
                    break;
                  case 8:
                    month = 'Sep';
                    break;
                  case 9:
                    month = 'Oct';
                    break;
                  case 10:
                    month = 'Nov';
                    break;
                  case 11:
                    month = 'Dec';
                    break;
                }

                var time = new Date().toLocaleTimeString('en-US',{ hour12: false, hour: "2-digit", minute: "2-digit"});

                return `Stardate: ${states['sensor.stardate'].state} &#149; ${date} ${month} ${year} &#149; ${time}`
              ]]]
            layout: vertical
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var condition = states['weather.kwdr_daynight'].state;
                var output;
                switch(condition) {
                  case 'sunny':
                    output = 'Sunny';
                    break;
                  case 'clear':
                    output = 'Clear';
                    break;
                  case 'mostly-sunny':
                    output = 'Mostly Sunny';
                    break;
                  case 'partly-cloudy':
                    output = 'Partly Cloudy';
                    break;
                  case 'cloudy':
                    output = 'Cloudy';
                    break;
                  case 'light-rain':
                    output = 'Light Rain';
                    break;
                  case 'wind':
                    output = 'Windy';
                    break;
                  case 'windy':
                    output = 'Windy';
                    break;
                  case 'dust':
                    output = 'Dusty';
                    break;
                  case 'fog':
                    output = 'Foggy';
                    break;
                  case 'showers':
                    output = 'Showers';
                    break;
                  case 'rain':
                    output = 'Rain';
                    break;
                  case 'rainy':
                    output = 'Rainy';
                    break;
                  case 'storm':
                    output = 'Stormy';
                    break;
                  case 'stormy':
                    output = 'Stormy';
                    break;
                  case 'light-showers':
                    output = 'Light Showers';
                    break;
                  case 'light-shower':
                    output = 'Light Showers';
                    break;
                  case 'heavy-showers':
                    output = 'Heavy Showers';
                    break;
                  case 'heavy-shower':
                    output = 'Heavy Showers';
                    break;
                  case 'clear-day':
                    output = 'Clear';
                    break;
                  case 'clear-night':
                    output = 'Clear';
                    break;
                  case 'partly-cloudy-day':
                    output = 'Partly Cloudy';
                    break;
                  case 'partly-cloudy-night':
                    output = 'Partly Cloudy';
                    break;
                  case 'hail':
                    output = 'Hailing';
                    break;
                  case 'lightning':
                    output = 'Lightning';
                    break;
                  case 'thunderstorm':
                    output = 'Thunderstorms';
                    break;
                  default:
                    output = states['weather.kwdr_daynight'].state;
                    break;
                  }

                  return `Conditions: ${output}`;
              ]]]
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #8FF;
                border-right: 28px solid #8FF;
                border-left: 18px solid #8FF;
              }
              ha-card:after {
                right: 0;
                bottom: 1.5rem;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #8FF;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
        view_layout:
          grid-area: weather
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 50px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |

                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-image: linear-gradient(to right top, rgb(85, 136, 238) 50%, rgb(0, 0, 0) 50%);
                    border: #111;
                  }
                  ha-card div.vertical.no-icon.no-label.no-state {
                    background: #111;
                    border-radius: 0 0 0 30px;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:button-card
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 35px !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #58e;
                border-right: 28px solid #58e;
                border-left: 18px solid #58e;
                border-bottom-left-radius: 3.75rem;
              }
              ha-card.button-card-main::after {
                right: 0;
                bottom: 1.5rem;
                border-bottom-left-radius: 35px;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #58e;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-align: right;
                text-transform: uppercase;
                color: #111;
              }
        view_layout:
          grid-area: time
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[
                  return `${states['sensor.template_header_weather'].state}`
              ]]]
            layout: vertical
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var forecast;
                var current;

                var greeting = states['sensor.template_header_greet'].state;
                if ( states['weather.kwdr_daynight'].attributes.forecast === undefined ) {
                  forecast = "";
                  current = " Current: " + states['sensor.outside_temp'].state + states['sensor.outside_temp'].attributes.unit_of_measurement
                }
                else {
                  var daytime = states['weather.kwdr_daynight'].attributes.forecast[0].daytime;
                  if (daytime) {
                    forecast = "Hi: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  else
                  {
                    forecast = "Lo: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  
                  current = " Current: " + states['weather.kwdr_daynight'].attributes.temperature + states['weather.kwdr_daynight'].attributes.temperature_unit;
                }
                return greeting + " | " + forecast + " | " + current;
              ]]]
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0 !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card.button-card-main::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
        view_layout:
          grid-area: greeting
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Compute Core
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: picture
            image: /local/images/rack.png
            tap_action:
              action: none
            hold_action:
              action: none
        view_layout:
          grid-area: aux
      - type: vertical-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Logistics
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0 0 0 0;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #8FF;
                    border-right: 28px solid #8FF;
                    border-left: 18px solid #8FF;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #8FF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    card_mod:
                      style: |
                        ha-card {
                          height: 500px;
                        }
                    entity: sensor.mail_state
                    primary: |
                      USPS Mail
                    secondary: |-

                      {% if states('sensor.mail_state')|int == 0 %}
                        No Mail Today
                      {% elif states('sensor.mail_state')|int == 1 %} 
                        No Mail Yet
                        Check Back Later
                      {% elif states('sensor.mail_state')|int == 2 %} 
                        Mail Delivered
                        {{ states.input_datetime.mail_delivered.state }}
                      {% elif states('sensor.mail_state')|int == 3 %} 
                        Mail Picked Up
                        More Words Here Eventually
                      {% else %} 
                        Error
                        I have no idea anymore...
                      {% endif %}
                    icon: >
                      {% if states('sensor.mail_state')|int == 0 %}
                      mdi:email-off-outline

                      {% elif states('sensor.mail_state')|int == 1 %}
                      mdi:mailbox

                      {% elif states('sensor.mail_state')|int == 2 %}
                      mdi:mailbox-open

                      {% elif states('sensor.mail_state')|int == 3 %}
                      mdi:mailbox-open-up

                      {% else %} mdi:exclamation

                      {% endif %}
                    icon_color: |-
                      {% if states('sensor.mail_state')|int == 0 %} white
                      {% elif states('sensor.mail_state')|int == 1 %} black 
                      {% elif states('sensor.mail_state')|int == 2 %} red
                      {% elif states('sensor.mail_state')|int == 3 %} green
                      {% else %} orange
                      {% endif %}
                    layout: vertical
                    multiline_secondary: true
                  - type: vertical-stack
                    cards:
                      - type: custom:mushroom-template-card
                        primary: USPS Mail
                        secondary: |-
                          {% if states('sensor.mail_usps_mail')|int > 0 %} 
                          {{states('sensor.mail_usps_mail') }} Letters 
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          {% else %} ERROR
                          {% endif %}
                        icon: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          mdi:mailbox-open
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          mdi:mailbox
                          {% else %}
                          mdi:exclamation
                          {% endif %}
                        icon_color: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          green
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          white
                          {% else %}
                          red
                          {% endif %}
                      - type: custom:mushroom-template-card
                        primary: Packages
                        secondary: |
                          {{ states('sensor.mail_packages_in_transit') }} ➤ {{
                          states('sensor.mail_packages_delivered') }}
                        icon: mdi:package
                        icon_color: >
                          {% if states('sensor.mail_packages_delivered')|int > 0
                          %}

                          green

                          {% elif states('sensor.mail_packages_in_transit')|int
                          > 0 %}

                          yellow

                          {% elif states('sensor.mail_packages_in_transit')|int
                          == 0 %}

                          white

                          {% else %}

                          red

                          {% endif %}
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    primary: USPS
                    secondary: |
                      {{ states('sensor.mail_usps_packages') }} ➤ {{
                      states('sensor.mail_usps_delivering') }} ➤ {{
                      states('sensor.mail_usps_delivered') }}
                    icon: mdi:package-variant-closed
                    icon_color: |
                      {% if states('sensor.mail_usps_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_usps_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_usps_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_usps_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: UPS
                    secondary: |
                      {{ states('sensor.mail_ups_packages') }} ➤ {{
                      states('sensor.mail_ups_delivering') }} ➤ {{
                      states('sensor.mail_ups_delivered') }}
                    icon: mdi:alpha-u-box-outline
                    icon_color: |
                      {% if states('sensor.mail_ups_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_ups_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_ups_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_ups_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: Fedex
                    secondary: |
                      {{ states('sensor.mail_fedex_packages') }} ➤ {{
                      states('sensor.mail_fedex_delivering') }} ➤ {{
                      states('sensor.mail_fedex_delivered') }}
                    icon: mdi:alpha-f-box-outline
                    layout: vertical
                    icon_color: |
                      {% if states('sensor.mail_fedex_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_fedex_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_fedex_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_fedex_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                  - type: custom:mushroom-template-card
                    primary: Amazon
                    secondary: |
                      {{ states('sensor.mail_amazon_packages') }} ➤ {{
                      states('sensor.mail_amazon_packages_delivered') }}
                    icon: mdi:alpha-a-box-outline
                    layout: vertical
                    icon_color: >
                      {% if states('sensor.mail_amazon_packages_delivered')|int
                      > 0 %}

                      green {% elif states('sensor.mail_amazon_packages')|int >
                      0 %}

                      yellow {% elif states('sensor.mail_amazon_packages')|int
                      == 0 %}

                      white {% else %} red {% endif %}
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Relays
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #79D;
                    border-right: 28px solid #79D;
                    border-left: 18px solid #79D;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #79D;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: custom:mushroom-template-card
                primary: Unifi USW-24-PoE
                secondary: 'Uptime: {{ states.sensor.unifi_main_switch_uptime.state }}'
                icon: mdi:lan
                icon_color: |-
                  {% if states.device_tracker.usl24p.state == 'home' %}
                  green
                  {% else %}
                  red
                  {% endif %}
              - type: custom:mushroom-template-card
                primary: Unifi Secure Gateway Pro 4
                secondary: >-
                  RX: {{states.sensor.usg_pro_4_rx.state}}/s | TX:
                  {{states.sensor.usg_pro_4_tx.state}}/s | Uptime: {{
                  relative_time(now() - timedelta( seconds =
                  state_attr('sensor.unifi_gateway_wan','gw_system-stats').uptime
                  | int))  }}
                icon: mdi:web
                icon_color: >-
                  {% if states.sensor.unifi_gateway_www.state | string == 'OK'
                  %}

                  green

                  {% else %}

                  red

                  {% endif %}
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: EMERGENCY POWER
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #455580;
                    border-right: 28px solid #455580;
                    border-left: 18px solid #455580;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #455580;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: custom:mushroom-template-card
                primary: UPS01
                secondary: >-
                  Battery: {{states.sensor.ups01_battery_charge.state}}% | Load:
                  {{states.sensor.ups01_load.state}}%
                icon: mdi:lightning-bolt-circle
                icon_color: >-
                  {% if states.sensor.ups01_battery_charge.state | float >= 30
                  %}

                  green

                  {% elif states.sensor.ups01_battery_charge.state | float >= 10
                  %}

                  orange

                  {% else %}

                  red

                  {% endif %}
              - type: custom:mushroom-template-card
                primary: UPS02
                secondary: >-
                  Battery: {{states.sensor.ups02_battery_charge.state}}% | Load:
                  {{states.sensor.ups02_load.state}}%
                icon: mdi:lightning-bolt-circle
                icon_color: >-
                  {% if states.sensor.ups02_battery_charge.state | float >= 30
                  %}

                  green

                  {% elif states.sensor.ups02_battery_charge.state | float >= 10
                  %}

                  orange

                  {% else %}

                  red

                  {% endif %}
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Core Temps
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #6CF;
                    border-right: 28px solid #6CF;
                    border-left: 18px solid #6CF;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #6CF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: custom:mushroom-template-card
                icon: mdi:thermometer
                primary: 'Rack Temp: {{states.sensor.temp_acurite_606tx.state}}°F'
                secondary: 'Room Temp: {{states.sensor.office_temperature.state}}°F'
                icon_color: >-
                  {% if states.sensor.temp_acurite_606tx_239.state | float <= 85
                  %}

                  green

                  {% elif states.sensor.temp_acurite_606tx_239.state | float <=
                  100 %}

                  orange

                  {% else %}

                  red

                  {% endif %}
        view_layout:
          grid-area: sidebar2
      - type: vertical-stack
        cards:
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 35px 0 0 0 !important;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                    border-top-left-radius: 3.75rem;
                  }
                  ha-card.button-card-main::after {
                    right: 0;
                    bottom: 1.5rem;
                    border-top-left-radius: 35px;
                  }
                  ha-card.button-card-main div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    style: |
                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 277px;
                        width: 5.9rem;
                        min-width: 5.9rem;
                        min-height: 80px;
                        background-color: #58e;
                        border-right: 28px solid #58e;
                        border-left: 18px solid #58e;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #58e;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 80px;
                        text-transform: uppercase;
                        color: #111;
                      }
                  - type: custom:button-card
                    style: |

                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 277px;
                        width: 6rem;
                        min-width: 6.1rem;
                        min-height: 80px;
                        background-image: linear-gradient(to right, rgb(85, 136, 238) 50%, rgb(28, 28, 28) 50%);
                        border: #111;
                      }
                      ha-card div.vertical.no-icon.no-label.no-state {
                        background: #111;
                        border-radius: 30px 0 0 0;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #111;
                        color: #FFF;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 40px;
                        text-transform: uppercase;
                        color: #FFF;
                      }
                      ha-card.button-card-main {
                        padding: 0 0 !important;
                      }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #79D;
                    border-right: 28px solid #79D;
                    border-left: 18px solid #79D;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #455580;
                    border-right: 28px solid #455580;
                    border-left: 18px solid #455580;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #6CF;
                    border-right: 28px solid #6CF;
                    border-left: 18px solid #6CF;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
        view_layout:
          grid-area: sidebar
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: R-PI
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";

                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                icon: mdi:raspberry-pi
                icon_color: >-
                  {% if states.sensor.rpi_temp_cardinal.state | int < 140 %}
                    green
                  {% elif states.sensor.rpi_temp_cardinal.state | int >= 140 and
                  states.sensor.rpi_temp_cardinal.state | int < 176 %}
                    orange
                  {% else %}
                    red
                  {% endif %}
                multiline_secondary: true
                primary: '{{ states.sensor.rpi_monitor_cardinal.attributes.host_name }}'
                layout: vertical
                secondary: >-
                  {% set rpi_model =
                  states.sensor.rpi_monitor_cardinal.attributes.rpi_model.split('
                  ') %}

                  {% set memMax =
                  (states.sensor.rpi_monitor_cardinal.attributes.memory.size_mb|int/1024)|int
                  +1 %}

                  {% set memUsed = '%0.1f' % ( 100- (
                  states.sensor.rpi_monitor_cardinal.attributes.memory.free_mb|float
                  /
                  states.sensor.rpi_monitor_cardinal.attributes.memory.size_mb|float
                  )  * 100) %}


                  RPi {{ rpi_model[1] }}{{ rpi_model[3] }} {{ memMax }}GB

                  CPU: {{ states.sensor.rpi_cpu_use_cardinal.state }}%

                  RAM: {{ memUsed }}%

                  SD: {{ states.sensor.rpi_used_cardinal.state }}%
                entity: sensor.rpi_temp_cardinal
                tap_action:
                  action: more-info
              - type: custom:mushroom-template-card
                icon: mdi:raspberry-pi
                icon_color: >-
                  {% if states.sensor.cpu_temp.state | int < 60 %}
                    green
                  {% elif states.sensor.cpu_temp.state | int >= 60 and
                  states.sensor.cpu_temp.state | int < 80 %}
                    orange
                  {% else %}
                    red
                  {% endif %}
                multiline_secondary: true
                primary: hestia
                layout: vertical
                secondary: |-
                  RPi 4B 8GB
                  CPU: {{ states.sensor.processor_use.state }}%
                  RAM: {{ states.sensor.memory_use_percent.state }}%
                  SD: {{ states.sensor.disk_use_percent.state }}%
                entity: sensor.cpu_temp
                tap_action:
                  action: more-info
              - type: custom:mushroom-template-card
                icon: mdi:raspberry-pi
                icon_color: >-
                  {% if states.sensor.rpi_temp_artemis.state | int < 140 %}
                    green
                  {% elif states.sensor.rpi_temp_artemis.state | int >= 140 and
                  states.sensor.rpi_temp_artemis.state | int < 176 %}
                    orange
                  {% else %}
                    red
                  {% endif %}
                multiline_secondary: true
                primary: '{{ states.sensor.rpi_monitor_artemis.attributes.host_name }}'
                layout: vertical
                secondary: >-
                  {% set rpi_model =
                  states.sensor.rpi_monitor_artemis.attributes.rpi_model.split('
                  ') %}

                  {% set memMax =
                  (states.sensor.rpi_monitor_artemis.attributes.memory.size_mb|int/1024)|int
                  +1 %}

                  {% set memUsed = '%0.1f' % ( 100- (
                  states.sensor.rpi_monitor_artemis.attributes.memory.free_mb|float
                  /
                  states.sensor.rpi_monitor_artemis.attributes.memory.size_mb|float
                  )  * 100) %}


                  RPi {{ rpi_model[1] }}{{ rpi_model[3] }} {{ memMax }}GB

                  CPU: {{ states.sensor.rpi_cpu_use_artemis.state }}%

                  RAM: {{ memUsed }}%

                  SD: {{ states.sensor.rpi_used_artemis.state }}%
                entity: sensor.rpi_temp_artemis
                tap_action:
                  action: more-info
              - type: custom:mushroom-template-card
                icon: mdi:raspberry-pi
                icon_color: >-
                  {% if states.sensor.rpi_temp_Apollo.state | int < 140 %}
                    green
                  {% elif states.sensor.rpi_temp_Apollo.state | int >= 140 and
                  states.sensor.rpi_temp_Apollo.state | int < 176 %}
                    orange
                  {% else %}
                    red
                  {% endif %}
                multiline_secondary: true
                primary: '{{ states.sensor.rpi_monitor_Apollo.attributes.host_name }}'
                layout: vertical
                secondary: >-
                  {% set rpi_model =
                  states.sensor.rpi_monitor_Apollo.attributes.rpi_model.split('
                  ') %}

                  {% set memMax =
                  (states.sensor.rpi_monitor_Apollo.attributes.memory.size_mb|int/1024)|int
                  +1 %}

                  {% set memUsed = '%0.1f' % ( 100- (
                  states.sensor.rpi_monitor_Apollo.attributes.memory.free_mb|float
                  /
                  states.sensor.rpi_monitor_Apollo.attributes.memory.size_mb|float
                  )  * 100) %}


                  RPi {{ rpi_model[1] }}{{ rpi_model[3] }} {{ memMax }}GB

                  CPU: {{ states.sensor.rpi_cpu_use_Apollo.state }}%

                  RAM: {{ memUsed }}%

                  SD: {{ states.sensor.rpi_used_Apollo.state }}%
                entity: sensor.rpi_temp_apollo
                tap_action:
                  action: more-info
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                icon: mdi:raspberry-pi
                icon_color: >-
                  {% if states.sensor.rpi_temp_charles.state | int < 140 %}
                    green
                  {% elif states.sensor.rpi_temp_charles.state | int >= 140 and
                  states.sensor.rpi_temp_charles.state | int < 176 %}
                    orange
                  {% else %}
                    red
                  {% endif %}
                multiline_secondary: true
                primary: '{{ states.sensor.rpi_monitor_charles.attributes.host_name }}'
                layout: vertical
                secondary: >-
                  {% set rpi_model =
                  states.sensor.rpi_monitor_charles.attributes.rpi_model.split('
                  ') %}

                  {% set memMax =
                  (states.sensor.rpi_monitor_charles.attributes.memory.size_mb|int/1024)|int
                  +1 %}

                  {% set memUsed = '%0.1f' % ( 100- (
                  states.sensor.rpi_monitor_charles.attributes.memory.free_mb|float
                  /
                  states.sensor.rpi_monitor_charles.attributes.memory.size_mb|float
                  )  * 100) %}


                  RPi {{ rpi_model[1] }}B+ {{ memMax }}GB

                  CPU: {{ states.sensor.rpi_cpu_use_charles.state }}%

                  RAM: {{ memUsed }}%

                  SD: {{ states.sensor.rpi_used_charles.state }}%
                entity: sensor.rpi_temp_charles
                tap_action:
                  action: more-info
              - type: custom:mushroom-template-card
                icon: mdi:raspberry-pi
                icon_color: white
                multiline_secondary: true
                primary: Unused
                layout: vertical
                secondary: |-
                  RPi ???
                  CPU: N/A%
                  RAM: N/A%
                  SD: N/A%
                entity: sensor.rpi_temp_charles
                tap_action:
                  action: more-info
              - type: custom:mushroom-template-card
                icon: mdi:raspberry-pi
                icon_color: grey
                multiline_secondary: true
                primary: Empty Slot
                layout: vertical
                secondary: |-
                  RPi ???
                  CPU: N/A%
                  RAM: N/A%
                  SD: N/A%
                entity: sensor.rpi_temp_charles
                tap_action:
                  action: more-info
              - type: custom:mushroom-template-card
                icon: mdi:raspberry-pi
                icon_color: grey
                multiline_secondary: true
                primary: Empty Slot
                layout: vertical
                secondary: |-
                  RPi ???
                  CPU: N/A%
                  RAM: N/A%
                  SD: N/A%
                entity: sensor.rpi_temp_charles
                tap_action:
                  action: more-info
          - type: custom:button-card
            name: Subspace Uplink
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 10px 10px 10px 10px;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: 0;
                border-bottom: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                overflow: hidden;
                right: 0;
                bottom: 1.5rem;

              }
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: >-
                  {{states.sensor.speedtest_download.state | float}}
                  {{state_attr('sensor.speedtest_download','unit_of_measurement')}}   
                secondary: Download Speed
                icon: mdi:arrow-down
                icon_color: |-
                  {% if states.sensor.speedtest_download.state | float < 100 %}
                    red
                  {% else %}
                    green
                  {% endif %}
              - type: custom:mushroom-template-card
                primary: >-
                  {{states.sensor.speedtest_upload.state | float}}
                  {{state_attr('sensor.speedtest_upload','unit_of_measurement')}}   
                secondary: Upload Speed
                icon: mdi:arrow-up
                icon_color: |-
                  {% if states.sensor.speedtest_upload.state | float < 15 %}
                    red
                  {% else %}
                    green
                  {% endif %}
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: >-
                  {% if states.binary_sensor.internet_connection.state == 'on'
                  %}
                    Internet Connection: Up
                  {% else %}
                    Internet Connection: Down
                  {% endif %}
                secondary: >-
                  Uptime: {{ relative_time(now() - timedelta( seconds =
                  state_attr('sensor.unifi_gateway_www', 'uptime') | int))  }}
                icon: >-
                  {% if states.binary_sensor.internet_connection.state == 'on'
                  %}
                    mdi:network
                  {% else %}
                    mdi:network-off
                  {% endif %}
                icon_color: >-
                  {% if states.binary_sensor.internet_connection.state == 'on'
                  %}
                    green
                  {% else %}
                    red
                  {% endif %}
              - type: custom:mushroom-template-card
                primary: >-
                  {{states.sensor.speedtest_ping.state | float}}
                  {{state_attr('sensor.speedtest_ping','unit_of_measurement')}}   
                secondary: Ping
                icon: mdi:lan-pending
                icon_color: |-
                  {% if states.sensor.speedtest_ping.state | float > 50 %}
                    red
                  {% else %}
                    green
                  {% endif %}
          - type: custom:button-card
            name: Power Usage
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 10px 10px 10px 10px;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #455580;
                border-right: 28px solid #455580;
                border-left: 18px solid #455580;
                border-top: 0;
                border-bottom: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #455580;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                overflow: hidden;
                right: 0;
                bottom: 1.5rem;

              }
          - type: custom:mushroom-entity-card
            entity: sensor.office_kids_room_9_1mon
            primary_info: state
            secondary_info: name
        view_layout:
          grid-area: main
  - theme: Backend-selected
    title: Outside
    path: out
    icon: mdi:flower
    type: custom:grid-layout
    layout:
      grid-template-columns: 8% 23% minmax(auto,38%) 25%
      grid-template-rows: 10% minmax(auto,80%) 10%
      grid-template-areas: |
        "time weather greeting greeting"
        "sidebar sidebar2 main aux"
        "footer footer footer footer"
      mediaquery:
        '(max-width: 800px)':
          grid-template-columns: 100%
          grid-template-rows: auto
          grid-template-areas: |
            "weather"
            "greeting"
            "main"
            "aux"
            "sidebar2"
            "footer"
    visible:
      - user: 829c75b162794808a699871056da2b93
    badges: []
    cards:
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 50px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |

                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-image: linear-gradient(to right top, rgb(85, 136, 238) 50%, rgb(0, 0, 0) 50%);
                    border: #111;
                  }
                  ha-card div.vertical.no-icon.no-label.no-state {
                    background: #111;
                    border-radius: 0 0 0 30px;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:button-card
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 35px !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #58e;
                border-right: 28px solid #58e;
                border-left: 18px solid #58e;
                border-bottom-left-radius: 3.75rem;
              }
              ha-card.button-card-main::after {
                right: 0;
                bottom: 1.5rem;
                border-bottom-left-radius: 35px;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #58e;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-align: right;
                text-transform: uppercase;
                color: #111;
              }
        view_layout:
          grid-area: time
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[ 
                var date = new Date().getDate();
                var year = new Date().getYear();
                var year = year - 100;
                var numMonth = new Date().getMonth();
                var month;
                switch(numMonth) {
                  case 0:
                    month = 'Jan';
                    break;
                  case 1:
                    month = 'Feb';
                    break;
                  case 2:
                    month = 'Mar';
                    break;
                  case 3:
                    month = 'Apr';
                    break;
                  case 4:
                    month = 'May';
                    break;
                  case 5:
                    month = 'Jun';
                    break;
                  case 6:
                    month = 'Jul';
                    break;
                  case 7:
                    month = 'Aug';
                    break;
                  case 8:
                    month = 'Sep';
                    break;
                  case 9:
                    month = 'Oct';
                    break;
                  case 10:
                    month = 'Nov';
                    break;
                  case 11:
                    month = 'Dec';
                    break;
                }

                var time = new Date().toLocaleTimeString('en-US',{ hour12: false, hour: "2-digit", minute: "2-digit"});
                return `Stardate: ${states['sensor.stardate'].state} &#149; ${date} ${month} ${year} &#149; ${time}`
              ]]]
            layout: vertical
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
                padding: 0 0 !important;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                right: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                text-align: right;
                color: #FFF;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var condition = states['weather.kwdr_daynight'].state;
                var output;
                switch(condition) {
                  case 'sunny':
                    output = 'Sunny';
                    break;
                  case 'clear':
                    output = 'Clear';
                    break;
                  case 'mostly-sunny':
                    output = 'Mostly Sunny';
                    break;
                  case 'partly-cloudy':
                    output = 'Partly Cloudy';
                    break;
                  case 'cloudy':
                    output = 'Cloudy';
                    break;
                  case 'light-rain':
                    output = 'Light Rain';
                    break;
                  case 'wind':
                    output = 'Windy';
                    break;
                  case 'windy':
                    output = 'Windy';
                    break;
                  case 'dust':
                    output = 'Dusty';
                    break;
                  case 'fog':
                    output = 'Foggy';
                    break;
                  case 'showers':
                    output = 'Showers';
                    break;
                  case 'rain':
                    output = 'Rain';
                    break;
                  case 'rainy':
                    output = 'Rainy';
                    break;
                  case 'storm':
                    output = 'Stormy';
                    break;
                  case 'stormy':
                    output = 'Stormy';
                    break;
                  case 'light-showers':
                    output = 'Light Showers';
                    break;
                  case 'light-shower':
                    output = 'Light Showers';
                    break;
                  case 'heavy-showers':
                    output = 'Heavy Showers';
                    break;
                  case 'heavy-shower':
                    output = 'Heavy Showers';
                    break;
                  case 'clear-day':
                    output = 'Clear';
                    break;
                  case 'clear-night':
                    output = 'Clear';
                    break;
                  case 'partly-cloudy-day':
                    output = 'Partly Cloudy';
                    break;
                  case 'partly-cloudy-night':
                    output = 'Partly Cloudy';
                    break;
                  case 'hail':
                    output = 'Hailing';
                    break;
                  case 'lightning':
                    output = 'Lightning';
                    break;
                  case 'thunderstorm':
                    output = 'Thunderstorms';
                    break;
                  default:
                    output = states['weather.kwdr_daynight'].state;
                    break;
                  }

                  return `Conditions: ${output}`;
              ]]]
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 40px;
                min-height: 40px;
                background-color: #8FF;
                border-right: 28px solid #8FF;
                border-left: 18px solid #8FF;
                padding: 0 0 !important;
              }

              ha-card.button-card-main div.ellipsis {
                position: absolute;
                right: 10px;
                background-color: #8FF;
                height: 40px;
                overflow: visible;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card {
                
              }
        view_layout:
          grid-area: weather
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[
                  return `${states['sensor.template_header_weather'].state}`
              ]]]
            layout: vertical
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var forecast;
                var current;

                var greeting = states['sensor.template_header_greet'].state;
                if ( states['weather.kwdr_daynight'].attributes.forecast === undefined ) {
                  forecast = "";
                  current = " Current: " + states['sensor.outside_temp'].state + states['sensor.outside_temp'].attributes.unit_of_measurement
                }
                else {
                  var daytime = states['weather.kwdr_daynight'].attributes.forecast[0].daytime;
                  if (daytime) {
                    forecast = "Hi: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  else
                  {
                    forecast = "Lo: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  
                  current = " Current: " + states['weather.kwdr_daynight'].attributes.temperature + states['weather.kwdr_daynight'].attributes.temperature_unit;
                }
                return greeting + " | " + forecast + " | " + current;
              ]]]
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0 !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card.button-card-main::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
        view_layout:
          grid-area: greeting
      - type: vertical-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Logistics
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0 0 0 0;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #8FF;
                    border-right: 28px solid #8FF;
                    border-left: 18px solid #8FF;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #8FF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    card_mod:
                      style: |
                        ha-card {
                          height: 500px;
                        }
                    entity: sensor.mail_state
                    primary: |
                      USPS Mail
                    secondary: |-

                      {% if states('sensor.mail_state')|int == 0 %}
                        No Mail Today
                      {% elif states('sensor.mail_state')|int == 1 %} 
                        No Mail Yet
                        Check Back Later
                      {% elif states('sensor.mail_state')|int == 2 %} 
                        Mail Delivered
                        {{ states.input_datetime.mail_delivered.state }}
                      {% elif states('sensor.mail_state')|int == 3 %} 
                        Mail Picked Up
                        More Words Here Eventually
                      {% else %} 
                        Error
                        I have no idea anymore...
                      {% endif %}
                    icon: >
                      {% if states('sensor.mail_state')|int == 0 %}
                      mdi:email-off-outline

                      {% elif states('sensor.mail_state')|int == 1 %}
                      mdi:mailbox

                      {% elif states('sensor.mail_state')|int == 2 %}
                      mdi:mailbox-open

                      {% elif states('sensor.mail_state')|int == 3 %}
                      mdi:mailbox-open-up

                      {% else %} mdi:exclamation

                      {% endif %}
                    icon_color: |-
                      {% if states('sensor.mail_state')|int == 0 %} white
                      {% elif states('sensor.mail_state')|int == 1 %} black 
                      {% elif states('sensor.mail_state')|int == 2 %} red
                      {% elif states('sensor.mail_state')|int == 3 %} green
                      {% else %} orange
                      {% endif %}
                    layout: vertical
                    multiline_secondary: true
                  - type: vertical-stack
                    cards:
                      - type: custom:mushroom-template-card
                        primary: USPS Mail
                        secondary: |-
                          {% if states('sensor.mail_usps_mail')|int > 0 %} 
                          {{states('sensor.mail_usps_mail') }} Letters 
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          {% else %} ERROR
                          {% endif %}
                        icon: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          mdi:mailbox-open
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          mdi:mailbox
                          {% else %}
                          mdi:exclamation
                          {% endif %}
                        icon_color: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          green
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          white
                          {% else %}
                          red
                          {% endif %}
                      - type: custom:mushroom-template-card
                        primary: Packages
                        secondary: |
                          {{ states('sensor.mail_packages_in_transit') }} ➤ {{
                          states('sensor.mail_packages_delivered') }}
                        icon: mdi:package
                        icon_color: >
                          {% if states('sensor.mail_packages_delivered')|int > 0
                          %}

                          green

                          {% elif states('sensor.mail_packages_in_transit')|int
                          > 0 %}

                          yellow

                          {% elif states('sensor.mail_packages_in_transit')|int
                          == 0 %}

                          white

                          {% else %}

                          red

                          {% endif %}
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    primary: USPS
                    secondary: |
                      {{ states('sensor.mail_usps_packages') }} ➤ {{
                      states('sensor.mail_usps_delivering') }} ➤ {{
                      states('sensor.mail_usps_delivered') }}
                    icon: mdi:package-variant-closed
                    icon_color: |
                      {% if states('sensor.mail_usps_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_usps_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_usps_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_usps_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: UPS
                    secondary: |
                      {{ states('sensor.mail_ups_packages') }} ➤ {{
                      states('sensor.mail_ups_delivering') }} ➤ {{
                      states('sensor.mail_ups_delivered') }}
                    icon: mdi:alpha-u-box-outline
                    icon_color: |
                      {% if states('sensor.mail_ups_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_ups_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_ups_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_ups_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: Fedex
                    secondary: |
                      {{ states('sensor.mail_fedex_packages') }} ➤ {{
                      states('sensor.mail_fedex_delivering') }} ➤ {{
                      states('sensor.mail_fedex_delivered') }}
                    icon: mdi:alpha-f-box-outline
                    layout: vertical
                    icon_color: |
                      {% if states('sensor.mail_fedex_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_fedex_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_fedex_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_fedex_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                  - type: custom:mushroom-template-card
                    primary: Amazon
                    secondary: |
                      {{ states('sensor.mail_amazon_packages') }} ➤ {{
                      states('sensor.mail_amazon_packages_delivered') }}
                    icon: mdi:alpha-a-box-outline
                    layout: vertical
                    icon_color: >
                      {% if states('sensor.mail_amazon_packages_delivered')|int
                      > 0 %}

                      green {% elif states('sensor.mail_amazon_packages')|int >
                      0 %}

                      yellow {% elif states('sensor.mail_amazon_packages')|int
                      == 0 %}

                      white {% else %} red {% endif %}
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Waste Disposal
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #79D;
                    border-right: 28px solid #79D;
                    border-left: 18px solid #79D;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #79D;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: custom:mushroom-entity-card
                entity: sensor.trash
                primary_info: state
                secondary_info: name
              - type: custom:mushroom-entity-card
                entity: sensor.recycling
                primary_info: state
                secondary_info: name
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Planters
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #43567F;
                    border-right: 28px solid #43567F;
                    border-left: 18px solid #43567F;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #43567F;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: custom:stack-in-card
                cards:
                  - type: custom:mushroom-template-card
                    entity: sensor.soil_moisture_1
                    secondary: >-
                      {{ states.sensor.soil_moisture_1.state }}{{

                      states.sensor.soil_moisture_1.attributes.unit_of_measurement
                      }}
                    primary: |-
                      {% if states.sensor.soil_moisture_2.state|float < 40 %}
                        Water {{ states.sensor.soil_moisture_1.attributes.friendly_name }} Now
                      {% else %}
                        {{ states.sensor.soil_moisture_1.attributes.friendly_name }} Soil Moisture
                      {% endif %}
                    icon_color: |-
                      {% if states.sensor.soil_moisture_1.state|float < 30 %}
                        red
                      {% else %}
                        blue
                      {% endif %}
                    icon: |
                      {% if states.sensor.soil_moisture_1.state|float < 30 %}
                        mdi:water-percent-alert
                      {% else %}
                        mdi:water-percent
                      {% endif %}
        view_layout:
          grid-area: sidebar2
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Perimeter
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";

                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:stack-in-card
            cards:
              - type: conditional
                conditions:
                  - entity: vacuum.philoctetes
                    state: docked
                card:
                  type: custom:mushroom-entity-card
                  entity: sensor.philoctetes_next_start
              - type: conditional
                conditions:
                  - entity: vacuum.philoctetes
                    state_not: docked
                card:
                  type: custom:mushroom-vacuum-card
                  entity: vacuum.philoctetes
                  commands:
                    - start_pause
                    - return_home
                    - stop
                  icon_animation: false
              - show_state: true
                show_name: true
                camera_view: live
                type: picture-entity
                entity: vacuum.philoctetes
                camera_image: camera.philoctetes_map
                image: /local/images/transparent.png
                tap_action:
                  action: more-info
                hold_action:
                  action: none
          - type: custom:button-card
            name: Green Houses
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 10px 10px 10px 10px;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: 0;
                border-bottom: 0;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                overflow: hidden;
                right: 0;
                bottom: 1.5rem;

              }
          - type: custom:stack-in-card
            cards:
              - type: custom:mushroom-template-card
                entity: sensor.soil_moisture_2
                secondary: >-
                  {{ states.sensor.soil_moisture_2.state }}{{

                  states.sensor.soil_moisture_2.attributes.unit_of_measurement
                  }}
                primary: |-
                  {% if states.sensor.soil_moisture_2.state|float < 40 %}
                    Water GH1 Now
                  {% else %}
                    GH1 Soil Moisture
                  {% endif %}
                icon_color: |-
                  {% if states.sensor.soil_moisture_2.state|float < 40 %}
                    red
                  {% else %}
                    blue
                  {% endif %}
                icon: |
                  {% if states.sensor.soil_moisture_2.state|float < 40 %}
                    mdi:water-percent-alert
                  {% else %}
                    mdi:water-percent
                  {% endif %}
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-template-card
                    entity: sensor.temp_nexus_th_b
                    primary: |-
                      {% if states.sensor.temp_nexus_th_b.state|float > 100 %}
                        Open GH1 Now
                      {% elif states.sensor.temp_nexus_th_b.state|float > 85 %}
                        Ensure GH1 is Open
                      {% else %}
                        GH1 Temp
                      {% endif %}
                    secondary: >-
                      {{ states.sensor.temp_nexus_th_b.state}}{{
                      states.sensor.temp_nexus_th_b.attributes.unit_of_measurement
                      }}
                    icon_color: |-
                      {% if states.sensor.temp_nexus_th_b.state|float > 100 %}
                        red
                      {% elif states.sensor.temp_nexus_th_b.state|float > 85 %}
                        yellow
                      {% else %}
                        blue
                      {% endif %}
                    icon: |
                      {% if states.sensor.temp_nexus_th_b.state|float > 100 %}
                        mdi:thermometer-alert
                      {% elif states.sensor.temp_nexus_th_b.state|float > 85 %}
                        mdi:thermometer-chevron-up
                      {% else %}
                        mdi:thermometer
                      {% endif %}        
                  - type: custom:mushroom-entity-card
                    entity: sensor.rh_nexus_th_b
                    name: GH1 Humidity
        view_layout:
          grid-area: main
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Outdoor Modeling
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - show_current: false
            show_forecast: true
            type: weather-forecast
            entity: weather.kwdr_daynight
            theme: ios-dark-mode
            secondary_info_attribute: pressure
            card_mod:
              style: |
                ha-card {
                  height:215px !important;
                }
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Moisture Controls
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #6CF;
                    border-right: 28px solid #6CF;
                    border-left: 18px solid #6CF;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #6CF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    entity: switch.front_yard_zone
                    name: Front Yard
                  - type: custom:mushroom-entity-card
                    entity: switch.back_yard_zone
                    name: Back Yard
                  - type: custom:mushroom-entity-card
                    entity: sensor.last_watering
                    name: Last
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    entity: switch.side_yard_zone
                    name: Side Yard
                  - type: custom:mushroom-entity-card
                    entity: switch.flower_beds_zone
                    name: Flowers
                  - type: custom:mushroom-entity-card
                    entity: switch.waterbender_rain_delay
                    name: Delay
        view_layout:
          grid-area: aux
      - type: vertical-stack
        cards:
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 35px 0 0 0 !important;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                    border-top-left-radius: 3.75rem;
                  }
                  ha-card.button-card-main::after {
                    right: 0;
                    bottom: 1.5rem;
                    border-top-left-radius: 35px;
                  }
                  ha-card.button-card-main div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    style: |
                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 278px;
                        width: 5.9rem;
                        min-width: 5.9rem;
                        min-height: 80px;
                        background-color: #58e;
                        border-right: 28px solid #58e;
                        border-left: 18px solid #58e;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #58e;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 80px;
                        text-transform: uppercase;
                        color: #111;
                      }
                  - type: custom:button-card
                    style: |

                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 278px;
                        width: 6rem;
                        min-width: 6.1rem;
                        min-height: 80px;
                        background-image: linear-gradient(to right, rgb(85, 136, 238) 50%, rgb(28, 28, 28) 50%);
                        border: #111;
                      }
                      ha-card div.vertical.no-icon.no-label.no-state {
                        background: #111;
                        border-radius: 30px 0 0 0;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #111;
                        color: #FFF;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 40px;
                        text-transform: uppercase;
                        color: #FFF;
                      }
                      ha-card.button-card-main {
                        padding: 0 0 !important;
                      }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #79D;
                    border-right: 28px solid #79D;
                    border-left: 18px solid #79D;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #455580;
                    border-right: 28px solid #455580;
                    border-left: 18px solid #455580;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #6CF;
                    border-right: 28px solid #6CF;
                    border-left: 18px solid #6CF;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
        view_layout:
          grid-area: sidebar
  - theme: Backend-selected
    title: Plane Tracker
    path: plane
    icon: mdi:airplane
    type: custom:grid-layout
    layout:
      grid-template-columns: 8% 23% minmax(auto,63%)
      grid-template-rows: minmax(auto,80%)
      grid-template-areas: |
        "time weather greeting"
        "sidebar sidebar2 main"
        "footer footer footer"
      mediaquery:
        '(max-width: 800px)':
          grid-template-columns: 100%
          grid-template-rows: auto
          grid-template-areas: |
            "weather"
            "greeting"
            "main"
            "aux"
            "sidebar2"
            "footer"
    visible:
      - user: 829c75b162794808a699871056da2b93
    badges: []
    cards:
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 50px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |

                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-image: linear-gradient(to right top, rgb(85, 136, 238) 50%, rgb(0, 0, 0) 50%);
                    border: #111;
                  }
                  ha-card div.vertical.no-icon.no-label.no-state {
                    background: #111;
                    border-radius: 0 0 0 30px;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:button-card
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 35px !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #58e;
                border-right: 28px solid #58e;
                border-left: 18px solid #58e;
                border-bottom-left-radius: 3.75rem;
              }
              ha-card.button-card-main::after {
                right: 0;
                bottom: 1.5rem;
                border-bottom-left-radius: 35px;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #58e;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-align: right;
                text-transform: uppercase;
                color: #111;
              }
        view_layout:
          grid-area: time
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[ 
                var date = new Date().getDate();
                var year = new Date().getYear();
                var year = year - 100;
                var numMonth = new Date().getMonth();
                var month;
                switch(numMonth) {
                  case 0:
                    month = 'Jan';
                    break;
                  case 1:
                    month = 'Feb';
                    break;
                  case 2:
                    month = 'Mar';
                    break;
                  case 3:
                    month = 'Apr';
                    break;
                  case 4:
                    month = 'May';
                    break;
                  case 5:
                    month = 'Jun';
                    break;
                  case 6:
                    month = 'Jul';
                    break;
                  case 7:
                    month = 'Aug';
                    break;
                  case 8:
                    month = 'Sep';
                    break;
                  case 9:
                    month = 'Oct';
                    break;
                  case 10:
                    month = 'Nov';
                    break;
                  case 11:
                    month = 'Dec';
                    break;
                }

                var time = new Date().toLocaleTimeString('en-US',{ hour12: false, hour: "2-digit", minute: "2-digit"});
                return `Stardate: ${states['sensor.stardate'].state} &#149; ${date} ${month} ${year} &#149; ${time}`
              ]]]
            layout: vertical
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
                padding: 0 0 !important;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                right: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                text-align: right;
                color: #FFF;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var condition = states['weather.kwdr_daynight'].state;
                var output;
                switch(condition) {
                  case 'sunny':
                    output = 'Sunny';
                    break;
                  case 'clear':
                    output = 'Clear';
                    break;
                  case 'mostly-sunny':
                    output = 'Mostly Sunny';
                    break;
                  case 'partly-cloudy':
                    output = 'Partly Cloudy';
                    break;
                  case 'cloudy':
                    output = 'Cloudy';
                    break;
                  case 'light-rain':
                    output = 'Light Rain';
                    break;
                  case 'wind':
                    output = 'Windy';
                    break;
                  case 'windy':
                    output = 'Windy';
                    break;
                  case 'dust':
                    output = 'Dusty';
                    break;
                  case 'fog':
                    output = 'Foggy';
                    break;
                  case 'showers':
                    output = 'Showers';
                    break;
                  case 'rain':
                    output = 'Rain';
                    break;
                  case 'rainy':
                    output = 'Rainy';
                    break;
                  case 'storm':
                    output = 'Stormy';
                    break;
                  case 'stormy':
                    output = 'Stormy';
                    break;
                  case 'light-showers':
                    output = 'Light Showers';
                    break;
                  case 'light-shower':
                    output = 'Light Showers';
                    break;
                  case 'heavy-showers':
                    output = 'Heavy Showers';
                    break;
                  case 'heavy-shower':
                    output = 'Heavy Showers';
                    break;
                  case 'clear-day':
                    output = 'Clear';
                    break;
                  case 'clear-night':
                    output = 'Clear';
                    break;
                  case 'partly-cloudy-day':
                    output = 'Partly Cloudy';
                    break;
                  case 'partly-cloudy-night':
                    output = 'Partly Cloudy';
                    break;
                  case 'hail':
                    output = 'Hailing';
                    break;
                  case 'lightning':
                    output = 'Lightning';
                    break;
                  case 'thunderstorm':
                    output = 'Thunderstorms';
                    break;
                  default:
                    output = states['weather.kwdr_daynight'].state;
                    break;
                  }

                  return `Conditions: ${output}`;
              ]]]
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 40px;
                min-height: 40px;
                background-color: #8FF;
                border-right: 28px solid #8FF;
                border-left: 18px solid #8FF;
                padding: 0 0 !important;
              }

              ha-card.button-card-main div.ellipsis {
                position: absolute;
                right: 10px;
                background-color: #8FF;
                height: 40px;
                overflow: visible;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card {
                
              }
        view_layout:
          grid-area: weather
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[
                  return `${states['sensor.template_header_weather'].state}`
              ]]]
            layout: vertical
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var forecast;
                var current;

                var greeting = states['sensor.template_header_greet'].state;
                if ( states['weather.kwdr_daynight'].attributes.forecast === undefined ) {
                  forecast = "";
                  current = " Current: " + states['sensor.outside_temp'].state + states['sensor.outside_temp'].attributes.unit_of_measurement
                }
                else {
                  var daytime = states['weather.kwdr_daynight'].attributes.forecast[0].daytime;
                  if (daytime) {
                    forecast = "Hi: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  else
                  {
                    forecast = "Lo: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  
                  current = " Current: " + states['weather.kwdr_daynight'].attributes.temperature + states['weather.kwdr_daynight'].attributes.temperature_unit;
                }
                return greeting + " | " + forecast + " | " + current;
              ]]]
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0 !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card.button-card-main::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
        view_layout:
          grid-area: greeting
      - type: vertical-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Logistics
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0 0 0 0;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #8FF;
                    border-right: 28px solid #8FF;
                    border-left: 18px solid #8FF;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #8FF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    card_mod:
                      style: |
                        ha-card {
                          height: 500px;
                        }
                    entity: sensor.mail_state
                    primary: |
                      USPS Mail
                    secondary: |-

                      {% if states('sensor.mail_state')|int == 0 %}
                        No Mail Today
                      {% elif states('sensor.mail_state')|int == 1 %} 
                        No Mail Yet
                        Check Back Later
                      {% elif states('sensor.mail_state')|int == 2 %} 
                        Mail Delivered
                        {{ states.input_datetime.mail_delivered.state }}
                      {% elif states('sensor.mail_state')|int == 3 %} 
                        Mail Picked Up
                        More Words Here Eventually
                      {% else %} 
                        Error
                        I have no idea anymore...
                      {% endif %}
                    icon: >
                      {% if states('sensor.mail_state')|int == 0 %}
                      mdi:email-off-outline

                      {% elif states('sensor.mail_state')|int == 1 %}
                      mdi:mailbox

                      {% elif states('sensor.mail_state')|int == 2 %}
                      mdi:mailbox-open

                      {% elif states('sensor.mail_state')|int == 3 %}
                      mdi:mailbox-open-up

                      {% else %} mdi:exclamation

                      {% endif %}
                    icon_color: |-
                      {% if states('sensor.mail_state')|int == 0 %} white
                      {% elif states('sensor.mail_state')|int == 1 %} black 
                      {% elif states('sensor.mail_state')|int == 2 %} red
                      {% elif states('sensor.mail_state')|int == 3 %} green
                      {% else %} orange
                      {% endif %}
                    layout: vertical
                    multiline_secondary: true
                  - type: vertical-stack
                    cards:
                      - type: custom:mushroom-template-card
                        primary: USPS Mail
                        secondary: |-
                          {% if states('sensor.mail_usps_mail')|int > 0 %} 
                          {{states('sensor.mail_usps_mail') }} Letters 
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          {% else %} ERROR
                          {% endif %}
                        icon: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          mdi:mailbox-open
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          mdi:mailbox
                          {% else %}
                          mdi:exclamation
                          {% endif %}
                        icon_color: |
                          {% if states('sensor.mail_usps_mail')|int > 0 %}
                          green
                          {% elif states('sensor.mail_usps_mail')|int == 0 %}
                          white
                          {% else %}
                          red
                          {% endif %}
                      - type: custom:mushroom-template-card
                        primary: Packages
                        secondary: |
                          {{ states('sensor.mail_packages_in_transit') }} ➤ {{
                          states('sensor.mail_packages_delivered') }}
                        icon: mdi:package
                        icon_color: >
                          {% if states('sensor.mail_packages_delivered')|int > 0
                          %}

                          green

                          {% elif states('sensor.mail_packages_in_transit')|int
                          > 0 %}

                          yellow

                          {% elif states('sensor.mail_packages_in_transit')|int
                          == 0 %}

                          white

                          {% else %}

                          red

                          {% endif %}
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:mushroom-template-card
                    primary: USPS
                    secondary: |
                      {{ states('sensor.mail_usps_packages') }} ➤ {{
                      states('sensor.mail_usps_delivering') }} ➤ {{
                      states('sensor.mail_usps_delivered') }}
                    icon: mdi:package-variant-closed
                    icon_color: |
                      {% if states('sensor.mail_usps_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_usps_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_usps_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_usps_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: UPS
                    secondary: |
                      {{ states('sensor.mail_ups_packages') }} ➤ {{
                      states('sensor.mail_ups_delivering') }} ➤ {{
                      states('sensor.mail_ups_delivered') }}
                    icon: mdi:alpha-u-box-outline
                    icon_color: |
                      {% if states('sensor.mail_ups_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_ups_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_ups_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_ups_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                    layout: vertical
                  - type: custom:mushroom-template-card
                    primary: Fedex
                    secondary: |
                      {{ states('sensor.mail_fedex_packages') }} ➤ {{
                      states('sensor.mail_fedex_delivering') }} ➤ {{
                      states('sensor.mail_fedex_delivered') }}
                    icon: mdi:alpha-f-box-outline
                    layout: vertical
                    icon_color: |
                      {% if states('sensor.mail_fedex_delivered')|int > 0 %}
                      green
                      {% elif states('sensor.mail_fedex_delivering')|int > 0 %}
                      blue
                      {% elif states('sensor.mail_fedex_packages')|int > 0 %}
                      yellow
                      {% elif states('sensor.mail_fedex_packages')|int == 0 %}
                      white
                      {% else %}
                      red
                      {% endif %}
                  - type: custom:mushroom-template-card
                    primary: Amazon
                    secondary: |
                      {{ states('sensor.mail_amazon_packages') }} ➤ {{
                      states('sensor.mail_amazon_packages_delivered') }}
                    icon: mdi:alpha-a-box-outline
                    layout: vertical
                    icon_color: >
                      {% if states('sensor.mail_amazon_packages_delivered')|int
                      > 0 %}

                      green {% elif states('sensor.mail_amazon_packages')|int >
                      0 %}

                      yellow {% elif states('sensor.mail_amazon_packages')|int
                      == 0 %}

                      white {% else %} red {% endif %}
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Traffic Control
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #79D;
                    border-right: 28px solid #79D;
                    border-left: 18px solid #79D;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #79D;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: custom:fr24-card
                entity: sensor.fr24_aircraft
                lang: en
                sort: track
        view_layout:
          grid-area: sidebar2
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Traffic Pattern
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #79D;
                border-right: 28px solid #79D;
                border-left: 18px solid #79D;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";

                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #79D;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #111;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: iframe
            url: https://cardinal.folden-nissen.com
            aspect_ratio: 50%
            view_layout:
              grid-area: main
      - type: vertical-stack
        cards:
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 35px 0 0 0 !important;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #58e;
                    border-right: 28px solid #58e;
                    border-left: 18px solid #58e;
                    border-top-left-radius: 3.75rem;
                  }
                  ha-card.button-card-main::after {
                    right: 0;
                    bottom: 1.5rem;
                    border-top-left-radius: 35px;
                  }
                  ha-card.button-card-main div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    style: |
                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 278px;
                        width: 5.9rem;
                        min-width: 5.9rem;
                        min-height: 80px;
                        background-color: #58e;
                        border-right: 28px solid #58e;
                        border-left: 18px solid #58e;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #58e;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 80px;
                        text-transform: uppercase;
                        color: #111;
                      }
                  - type: custom:button-card
                    style: |

                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 278px;
                        width: 6rem;
                        min-width: 6.1rem;
                        min-height: 80px;
                        background-image: linear-gradient(to right, rgb(85, 136, 238) 50%, rgb(28, 28, 28) 50%);
                        border: #111;
                      }
                      ha-card div.vertical.no-icon.no-label.no-state {
                        background: #111;
                        border-radius: 30px 0 0 0;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #111;
                        color: #FFF;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 40px;
                        text-transform: uppercase;
                        color: #FFF;
                      }
                      ha-card.button-card-main {
                        padding: 0 0 !important;
                      }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #79D;
                    border-right: 28px solid #79D;
                    border-left: 18px solid #79D;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #455580;
                    border-right: 28px solid #455580;
                    border-left: 18px solid #455580;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #6CF;
                    border-right: 28px solid #6CF;
                    border-left: 18px solid #6CF;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #58e;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
        view_layout:
          grid-area: sidebar
  - theme: Backend-selected
    title: Red Alert
    path: red-alert
    icon: mdi:hazard-lights
    layout:
      grid-template-columns: 8% 28% minmax(auto,63%)
      grid-template-rows: minmax(auto,80%)
      grid-template-areas: |
        "time weather greeting"
        "sidebar sidebar2 main"
        "footer footer footer"
      mediaquery:
        '(max-width: 800px)':
          grid-template-columns: 100%
          grid-template-rows: auto
          grid-template-areas: |
            "weather"
            "greeting"
            "main"
            "sidebar2"
            "footer"
    type: custom:grid-layout
    visible:
      - user: 829c75b162794808a699871056da2b93
    badges: []
    cards:
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #c00;
                    border-right: 28px solid #c00;
                    border-left: 18px solid #c00;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 50px;
                    background-color: #c00;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |

                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 80px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-image: linear-gradient(to right top, rgb(204, 0, 0) 50%, rgb(0, 0, 0) 50%);
                    border: #111;
                  }
                  ha-card div.vertical.no-icon.no-label.no-state {
                    background: #111;
                    border-radius: 0 0 0 30px;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:button-card
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 35px !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #c00;
                border-right: 28px solid #c00;
                border-left: 18px solid #c00;
                border-bottom-left-radius: 3.75rem;
              }
              ha-card.button-card-main::after {
                right: 0;
                bottom: 1.5rem;
                border-bottom-left-radius: 35px;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #c00;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-align: right;
                text-transform: uppercase;
                color: #111;
              }
        view_layout:
          grid-area: time
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[ 
                var date = new Date().getDate();
                var year = new Date().getYear();
                var year = year - 100;
                var numMonth = new Date().getMonth();
                var month;
                switch(numMonth) {
                  case 0:
                    month = 'Jan';
                    break;
                  case 1:
                    month = 'Feb';
                    break;
                  case 2:
                    month = 'Mar';
                    break;
                  case 3:
                    month = 'Apr';
                    break;
                  case 4:
                    month = 'May';
                    break;
                  case 5:
                    month = 'Jun';
                    break;
                  case 6:
                    month = 'Jul';
                    break;
                  case 7:
                    month = 'Aug';
                    break;
                  case 8:
                    month = 'Sep';
                    break;
                  case 9:
                    month = 'Oct';
                    break;
                  case 10:
                    month = 'Nov';
                    break;
                  case 11:
                    month = 'Dec';
                    break;
                }

                var time = new Date().toLocaleTimeString('en-US',{ hour12: false, hour: "2-digit", minute: "2-digit"});
                return `Stardate: ${states['sensor.stardate'].state} &#149; ${date} ${month} ${year} &#149; ${time}`
              ]]]
            layout: vertical
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
                padding: 0 0 !important;
              }
              ha-card.button-card-main div.ellipsis {
                position: absolute;
                right: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                text-align: right;
                color: #FFF;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var condition = states['weather.kwdr_daynight'].state;
                var output;
                switch(condition) {
                  case 'sunny':
                    output = 'Sunny';
                    break;
                  case 'clear':
                    output = 'Clear';
                    break;
                  case 'mostly-sunny':
                    output = 'Mostly Sunny';
                    break;
                  case 'partly-cloudy':
                    output = 'Partly Cloudy';
                    break;
                  case 'cloudy':
                    output = 'Cloudy';
                    break;
                  case 'light-rain':
                    output = 'Light Rain';
                    break;
                  case 'wind':
                    output = 'Windy';
                    break;
                  case 'windy':
                    output = 'Windy';
                    break;
                  case 'dust':
                    output = 'Dusty';
                    break;
                  case 'fog':
                    output = 'Foggy';
                    break;
                  case 'showers':
                    output = 'Showers';
                    break;
                  case 'rain':
                    output = 'Rain';
                    break;
                  case 'rainy':
                    output = 'Rainy';
                    break;
                  case 'storm':
                    output = 'Stormy';
                    break;
                  case 'stormy':
                    output = 'Stormy';
                    break;
                  case 'light-showers':
                    output = 'Light Showers';
                    break;
                  case 'light-shower':
                    output = 'Light Showers';
                    break;
                  case 'heavy-showers':
                    output = 'Heavy Showers';
                    break;
                  case 'heavy-shower':
                    output = 'Heavy Showers';
                    break;
                  case 'clear-day':
                    output = 'Clear';
                    break;
                  case 'clear-night':
                    output = 'Clear';
                    break;
                  case 'partly-cloudy-day':
                    output = 'Partly Cloudy';
                    break;
                  case 'partly-cloudy-night':
                    output = 'Partly Cloudy';
                    break;
                  case 'hail':
                    output = 'Hailing';
                    break;
                  case 'lightning':
                    output = 'Lightning';
                    break;
                  case 'thunderstorm':
                    output = 'Thunderstorms';
                    break;
                  default:
                    output = states['weather.kwdr_daynight'].state;
                    break;
                  }

                  return `Conditions: ${output}`;
              ]]]
            style: |
              ha-card.button-card-main {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 40px;
                min-height: 40px;
                background-color: #c00;
                border-right: 28px solid #c00;
                border-left: 18px solid #c00;
                padding: 0 0 !important;
              }

              ha-card.button-card-main div.ellipsis {
                position: absolute;
                right: 10px;
                background-color: #c00;
                height: 40px;
                overflow: visible;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #EEE;
              }
              ha-card {
                
              }
        view_layout:
          grid-area: weather
      - type: custom:stack-in-card
        keep:
          background: true
        card_mod:
          style: |
            ha-card.type-custom-stack-in-card {
              border-radius: 0;
              border: 0;
            }
        cards:
          - type: custom:button-card
            name: |
              [[[
                  return `${states['sensor.template_header_weather'].state}`
              ]]]
            layout: vertical
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0;
                height: 80px;
                width: 6rem;
                min-width: 6rem;
                min-height: 80px;
                background-color: #111;
              }
              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #111;
                color: #FFF;
                height: 80px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 80px;
                text-transform: uppercase;
                vertical-align: middle;
                color: #FFF;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:button-card
            name: |
              [[[ 
                var forecast;
                var current;

                var greeting = states['sensor.template_header_greet'].state;
                if ( states['weather.kwdr_daynight'].attributes.forecast === undefined ) {
                  forecast = "";
                  current = " Current: " + states['sensor.outside_temp'].state + states['sensor.outside_temp'].attributes.unit_of_measurement
                }
                else {
                  var daytime = states['weather.kwdr_daynight'].attributes.forecast[0].daytime;
                  if (daytime) {
                    forecast = "Hi: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  else
                  {
                    forecast = "Lo: " + states['weather.kwdr_daynight'].attributes.forecast[0].temperature + states['weather.kwdr_daynight'].attributes.temperature_unit
                  }
                  
                  current = " Current: " + states['weather.kwdr_daynight'].attributes.temperature + states['weather.kwdr_daynight'].attributes.temperature_unit;
                }
                return greeting + " | " + forecast + " | " + current;
              ]]]
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 10px 10px 0 !important;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #C00;
                border-right: 28px solid #C00;
                border-left: 18px solid #C00;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card.button-card-main::after {
                content: "";
                background-color: #111;
                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card.button-card-main div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #C00;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #EEE;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
        view_layout:
          grid-area: greeting
      - type: vertical-stack
        cards:
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 35px 0 0 0 !important;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #C00;
                    border-right: 28px solid #C00;
                    border-left: 18px solid #C00;
                    border-top-left-radius: 3.75rem;
                  }
                  ha-card.button-card-main::after {
                    right: 0;
                    bottom: 1.5rem;
                    border-top-left-radius: 35px;
                  }
                  ha-card.button-card-main div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #C00;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    style: |
                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 278px;
                        width: 5.9rem;
                        min-width: 5.9rem;
                        min-height: 80px;
                        background-color: #C00;
                        border-right: 28px solid #C00;
                        border-left: 18px solid #C00;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #C00;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 80px;
                        text-transform: uppercase;
                        color: #111;
                      }
                  - type: custom:button-card
                    style: |

                      ha-card {
                        display: flex;
                        position: relative;
                        margin: 0;
                        overflow: visible;
                        border-radius: 0;
                        height: 278px;
                        width: 6rem;
                        min-width: 6.1rem;
                        min-height: 80px;
                        background-image: linear-gradient(to right, rgb(204, 0, 0) 50%, rgb(28, 28, 28) 50%);
                        border: #111;
                      }
                      ha-card div.vertical.no-icon.no-label.no-state {
                        background: #111;
                        border-radius: 30px 0 0 0;
                      }
                      ha-card div.ellipsis {
                        position: absolute;
                        left: 10px;
                        background-color: #111;
                        color: #FFF;
                        height: 40px;
                        overflow: visible;
                        padding: 5px;
                        font-size: 1.5rem;
                        font-family: Antonio;
                        line-height: 40px;
                        text-transform: uppercase;
                        color: #FFF;
                      }
                      ha-card.button-card-main {
                        padding: 0 0 !important;
                      }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #C00;
                    border-right: 28px solid #C00;
                    border-left: 18px solid #C00;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
          - type: custom:stack-in-card
            keep:
              background: true
            card_mod:
              style: |
                ha-card.type-custom-stack-in-card {
                  border-radius: 0;
                  border: 0;
                }
            mode: horizontal
            cards:
              - type: custom:button-card
                style: |
                  ha-card.button-card-main {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    min-height: 80px;
                    background-color: #C00;
                    border-right: 28px solid #C00;
                    border-left: 18px solid #C00;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #C00;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    color: #111;
                  }
              - type: custom:button-card
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0;
                    height: 191px;
                    width: 6rem;
                    min-width: 6rem;
                    min-height: 80px;
                    background-color: #111;
                    border: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #111;
                    color: #FFF;
                    height: 191px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 80px;
                    text-transform: uppercase;
                    vertical-align: middle;
                    color: #FFF;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
        view_layout:
          grid-area: sidebar
      - type: vertical-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Hold to Activate
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 0 0 0 0;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #C00;
                    border-right: 28px solid #C00;
                    border-left: 18px solid #C00;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #C00;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #EEE;;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
              - type: custom:mushroom-entity-card
                entity: script.bedroom_flic_long_click
                name: All Lights
                icon_color: red
                secondary_info: none
                icon: mdi:light-flood-down
                tap_action:
                  action: more-info
                hold_action:
                  action: call-service
                  service: script.turn_on
                  data: {}
                  target:
                    entity_id: script.bedroom_flic_long_click
                double_tap_action:
                  action: more-info
              - type: custom:mushroom-entity-card
                entity: switch.aarlo_all_sirens
                tap_action:
                  action: more-info
                hold_action:
                  action: toggle
                double_tap_action:
                  action: none
                name: Sirens
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Lights
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #C00;
                    border-right: 28px solid #C00;
                    border-left: 18px solid #C00;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #C00;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #EEE;;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-light-card
                    entity: light.upstairs
                    show_brightness_control: false
                    collapsible_controls: true
                    icon: ''
                    name: Upstairs
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-light-card
                    entity: light.downstairs
                    show_brightness_control: false
                    collapsible_controls: true
                    icon: ''
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Motion Sensors
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #C00;
                    border-right: 28px solid #C00;
                    border-left: 18px solid #C00;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #C00;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #EEE;;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    entity: binary_sensor.aarlo_motion_driveway
                    name: Driveway
                  - type: custom:mushroom-entity-card
                    entity: binary_sensor.aarlo_motion_doorbell
                    name: Front Door
                  - type: custom:mushroom-entity-card
                    entity: binary_sensor.aarlo_motion_back_door
                    name: Back Door
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Misc Sensors
                style: |
                  ha-card {
                    display: flex;
                    position: relative;
                    margin: 0;
                    overflow: visible;
                    border-radius: 10px 10px 10px 10px;
                    height: 40px;
                    width: 9.5rem;
                    min-width: 9.5rem;
                    min-height: 40px;
                    background-color: #C00;
                    border-right: 28px solid #C00;
                    border-left: 18px solid #C00;
                    border-top: 0;
                    border-bottom: 0;
                  }
                  ha-card div.ellipsis {
                    position: absolute;
                    left: 10px;
                    background-color: #C00;
                    height: 40px;
                    overflow: visible;
                    padding: 5px;
                    font-size: 1.5rem;
                    font-family: Antonio;
                    line-height: 40px;
                    text-transform: uppercase;
                    color: #EEE;;
                  }
                  ha-card.button-card-main {
                    padding: 0 0 !important;
                  }
                  ha-card::after {
                    content: "";
                    background-color: #111;
                    display: block;
                    width: 10px;
                    height: 50px;
                    position: absolute;
                    top: 0;
                    overflow: hidden;
                    right: 0;
                    bottom: 1.5rem;

                  }
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    entity: binary_sensor.aarlo_sound_driveway
                    name: Driveway
                  - type: custom:mushroom-entity-card
                    entity: binary_sensor.aarlo_ding_doorbell
                    name: Front Door
                  - type: custom:mushroom-entity-card
                    entity: binary_sensor.aarlo_sound_back_door
                    name: Back Door
        view_layout:
          grid-area: sidebar2
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Cameras
            style: |
              ha-card {
                display: flex;
                position: relative;
                margin: 0;
                overflow: visible;
                border-radius: 0 0 0 0;
                height: 40px;
                width: 9.5rem;
                min-width: 9.5rem;
                min-height: 40px;
                background-color: #C00;
                border-right: 28px solid #C00;
                border-left: 18px solid #C00;
                border-top: #111;
                border-bottom: #111;
              }
              ha-card::after {
                content: "";

                display: block;
                width: 10px;
                height: 50px;
                position: absolute;
                top: 0;
                right: 0;
                overflow: hidden;
              }

              ha-card div.ellipsis {
                position: absolute;
                left: 10px;
                background-color: #C00;
                height: 40px;
                overflow: visible;
                padding: 5px;
                font-size: 1.5rem;
                font-family: Antonio;
                line-height: 40px;
                text-transform: uppercase;
                color: #EEE;
              }
              ha-card.button-card-main {
                padding: 0 0 !important;
              }
          - type: custom:stack-in-card
            cards:
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:aarlo-glance
                    entity: camera.aarlo_doorbell
                    image_view: direct
                    image_top: name,date,status
                    image_bottom: motion,sound,signal|library,snapshot
                    image_click: stream
                    library_sizes: 3,4,2
                  - type: custom:aarlo-glance
                    entity: camera.aarlo_back_door
                    image_view: direct
                    image_top: name,date,status
                    image_bottom: motion,sound,signal,battery|library,snapshot
                    image_click: stream
                    library_sizes: 3,4,2
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:aarlo-glance
                    entity: camera.aarlo_driveway
                    image_view: direct
                    image_top: name,date,status
                    image_bottom: motion,sound,signal,battery|library,snapshot
                    image_click: stream
                    library_sizes: 3,4,2
                  - type: custom:aarlo-glance
                    entity: camera.aarlo_kitty_loft
                    image_view: direct
                    image_top: name,date,status
                    image_bottom: motion,sound,signal|library,snapshot
                    image_click: stream
                    library_sizes: 3,4,2
  - theme: Backend-selected
    title: blank
    path: blank
    badges: []
    cards:
      - type: custom:stack-in-card
        cards:
          - type: custom:mushroom-template-card
            entity: input_boolean.mail_present
            primary: |
              USPS Mail
            secondary: |-
              {% if states('input_boolean.mail_present') == "on"%}
                Mail's Here!
                Arrived {{ relative_time(as_datetime(states.input_datetime.mail_delivered.state)) }} ago.
              {% else %} 
                No Mail
              {% endif %}
            icon: >-
              {% if states('input_boolean.mail_present') == "on" %}
              mdi:mailbox-open

              {% else %} mdi:mailbox

              {% endif %}
            icon_color: |-
              {% if states('input_boolean.mail_present') == "on" %} green
              {% else %} white
              {% endif %}
            layout: vertical
            multiline_secondary: true
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-chips-card
            chips:
              - type: conditional
                conditions:
                  - entity: input_boolean.mail_present
                    state: 'on'
                chip:
                  type: template
                  icon_color: white
                  content: Mail
                  tap_action:
                    action: navigate
                    navigation_path: mailalert
                  icon: mdi:mail
              - type: conditional
                conditions:
                  - entity: input_boolean.package_present
                    state: 'on'
                chip:
                  type: template
                  icon_color: white
                  content: Packages
                  tap_action:
                    action: navigate
                    navigation_path: mailalert
                  icon: mdi:package-check
              - type: conditional
                conditions:
                  - entity: sensor.trash
                    state: today
                chip:
                  type: template
                  icon_color: white
                  content: Trash
                  icon: mdi:delete
              - type: conditional
                conditions:
                  - entity: sensor.recycling
                    state: today
                chip:
                  type: template
                  icon_color: white
                  content: Recycling
                  icon: mdi:recycle-variant
              - type: conditional
                conditions:
                  - entity: binary_sensor.is_rain_2
                    state: 'on'
                chip:
                  type: template
                  icon_color: white
                  content: Raining
                  icon: mdi:weather-pouring
                  tap_action:
                    action: navigate
                    navigation_path: weather
              - type: conditional
                conditions:
                  - entity: binary_sensor.is_snow
                    state: 'on'
                chip:
                  type: template
                  icon_color: white
                  content: Snowing
                  icon: mdi:weather-snowy
              - type: conditional
                conditions:
                  - entity: input_boolean.vacation_mode
                    state: 'on'
                chip:
                  type: template
                  icon_color: white
                  content: Vacation Mode On
                  icon: mdi:airplane-check
              - type: conditional
                conditions:
                  - entity: input_boolean.guest_mode
                    state: 'on'
                chip:
                  type: template
                  icon_color: white
                  content: Guest Mode On
                  icon: mdi:bed
              - type: conditional
                conditions:
                  - entity: binary_sensor.wind_chill_active
                    state: 'on'
                chip:
                  type: template
                  icon_color: white
                  content: >-
                    Wind Chill:
                    {{states.sensor.wind_chill.state}}{{states.sensor.wind_chill.attributes.unit_of_measurement}}
                  icon: '{{ states.sensor.wind_chill.attributes.icon }}'
              - type: conditional
                conditions:
                  - entity: binary_sensor.heat_index_active
                    state: 'on'
                chip:
                  type: template
                  icon_color: white
                  content: 'Heat Index: {{states.sensor.heat_index.state}}F'
                  icon: '{{states.sensor.heat_index.attributes.icon}}'
                  tap_action:
                    action: navigate
                    navigation_path: weather
              - type: conditional
                conditions:
                  - entity: vacuum.philoctetes
                    state: error
                chip:
                  type: template
                  icon_color: white
                  content: Philoctetes
                  icon: mdi:alert
              - type: conditional
                conditions:
                  - entity: vacuum.catbug
                    state: error
                chip:
                  type: template
                  icon_color: white
                  content: Catbug
                  icon: mdi:alert
              - type: conditional
                conditions:
                  - entity: vacuum.gurtrude
                    state: error
                chip:
                  type: template
                  icon_color: white
                  content: Gurtrude
                  icon: mdi:alert
              - type: conditional
                conditions:
                  - entity: binary_sensor.wx_card
                    state: 'on'
                chip:
                  type: template
                  entity: sensor.nws_alerts
                  tap_action:
                    action: navigate
                    navigation_path: wxalert
                  icon_color: white
                  content: |-
                    {% if states.sensor.nws_alerts.state | int > 1 %}
                      {{states.sensor.nws_alerts.state | int}} NWS Alerts
                    {% else %}
                      {{states.sensor.nws_alerts.attributes.title}}
                    {% endif %}
                  icon: '{{states.sensor.nws_alerts.attributes.icon}}'
              - type: conditional
                conditions:
                  - entity: input_select.dishwasher_state
                    state: Clean
                chip:
                  type: template
                  icon_color: white
                  content: Dishwasher Done
                  icon: mdi:dishwasher
                  tap_action:
                    action: call-service
                    service: script.mark_dishwasher_as_dirty
              - type: conditional
                conditions:
                  - entity: binary_sensor.water_front_planter
                    state: 'on'
                chip:
                  type: template
                  icon_color: white
                  content: Front Planter
                  icon: mdi:watering-can-outline
                  tap_action:
                    action: navigate
                    navigation_path: outside
              - type: conditional
                conditions:
                  - entity: binary_sensor.water_greenhouse
                    state: 'on'
                chip:
                  type: template
                  icon_color: white
                  content: Greenhouse
                  icon: mdi:watering-can-outline
                  tap_action:
                    action: navigate
                    navigation_path: outside
